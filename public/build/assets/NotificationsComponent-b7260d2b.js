import{a as le,u as ie,_ as Q,j as a,k as o,m as e,s as P,M as K,J as l,x,H as ee,r as V,o as de,K as re,b as te,n as ce,q as z,v as M,F as q,t as m,y as ue,z as pe,l as A,A as he,B as X,g as me,i as G,C as fe}from"./common-7bc2effa.js";(function(){const t="on",n="out",r="body",c="stop",_="click",p="apply",i="target",f="prototype",b="Propagation",U="setAttribute",D="relatedTarget",y="addEventListener",w=Symbol(n),C=Object,T=document,N=typeof TouchEvent<"u"?TouchEvent:void 0,g=HTMLElement,h=g[f],u=Event[f],k=[_,"dbl"+_,"mousedown","mouseup","touchstart","touchend","pointerdown","pointerup"],H=new Set(k),B=new Set(k.map(s=>t+s+n)),j=(s,d)=>!!d&&s instanceof d,S=(s,d)=>s.contains(d),L=(s,d)=>{for(let v of s)d(v)},I=s=>{j(s,g)&&(s[w]?J(s):L(H,d=>{let v=t+d+n,F=s.getAttribute(v);F&&!Y(s)[v]&&s[U](v,F)}),L(s.childNodes,I))},Y=s=>s[w]=s[w]||{},J=s=>{Y(s),R.includes(s)||(R.push(s),O=!0)},ae=(s,d)=>S(d,s)?1:S(s,d)?-1:0,oe=s=>{O&&(R.sort(ae),O=!1);let d=s[i];j(s,N)?(s=new N(s.type+n,s))[D]=d:s=new s.constructor(s.type+n,C.assign({},s,{[D]:d})),s[c]=[],L(R,v=>{S(v,d)||s[c].some(F=>S(F,v))||v.dispatchEvent(s)})},Z=s=>function(){let d=this,v=d.type;s[p](d),B.has(t+v)&&d[c].push(d[i])},E=(s,d,v)=>s[d]=v(s[d]);function ne(s){let d=this[w][t+s.type];d&&d[p](this,[s])}let R=[],O=!1,W=T.createElement(r);L(H,s=>{T[y](s,oe,{passive:!0,capture:!0});let d=t+s+n;C.defineProperty(h,d,{get(){return this[w][d]},set(v){this[y](s+n,ne),this[w][d]=typeof v=="object"?v.handleEvent:v}})}),E(h,y,s=>function(...d){B.has(t+d[0])&&J(this),s[p](this,d)}),E(h,U,s=>function(d,v){B.has(d)?(s[p](W,[t+_,v]),this[d]=W[t+_]):s[p](this,[d,v])}),E(u,c+b,Z),E(u,c+"Immediate"+b,Z),new MutationObserver(s=>{L(s,d=>{L(d.addedNodes,I),L(d.removedNodes,v=>{j(v,g)&&(R=R.filter(F=>!S(v,F)))})})}).observe(T.documentElement,{childList:!0,subtree:!0}),I(T[r])})();window.axios=le;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const ve={rtl:document.querySelector("body").classList.contains("rtl"),position:document.querySelector("body").classList.contains("rtl")?"top-left":"top-right",transition:"Vue-Toastification__bounce",maxToasts:20,newestOnTop:!0,timeout:2300};window.toast=ie(ve);const ye=window.location.search;window.urlParams=new URLSearchParams(ye);const _e={},be={class:"table-responsive"},ge={class:"table table-borderless"};function xe(t,n){return a(),o("div",be,[e("table",ge,[e("thead",null,[P(t.$slots,"thead")]),e("tbody",null,[P(t.$slots,"default")])])])}const is=Q(_e,[["render",xe]]),$e={class:"bg-white border rounded-16 py-5 px-4 h-100 position-relative"},Ce={key:0},we={__name:"MainCardComponent",setup(t){const n=K();return(r,c)=>(a(),o("div",$e,[l(n).header?(a(),o("div",Ce,[P(r.$slots,"header")])):x("",!0),e("div",null,[P(r.$slots,"default")])]))}};const ke={class:"modal-container"},Me={class:"modal-content"},Te={__name:"MainModalComponent",emits:["closeModal"],setup(t,{emit:n}){const r=ee("trans"),c=n,_=V(!1),p=()=>{(!_.value||confirm(r("Are you sure that you want to close this modal?")))&&c("closeModal")};return de(()=>{_.value=!0}),(i,f)=>(a(),o("div",{class:"custom-modal",onClick:re(p,["self"])},[e("div",ke,[e("div",{class:"close-modal",onClick:p},"x"),e("div",Me,[P(i.$slots,"default",{},void 0,!0)])])]))}},ds=Q(Te,[["__scopeId","data-v-093a6749"]]),Se={class:"form-input mb-3"},Le={key:0},qe=["innerHTML"],De={key:0,class:"text-danger"},Ne=["type","value","placeholder","readonly","required"],je=["placeholder","readonly","required"],Ve=["value","required"],Ue=["textContent"],Ae={key:0,class:"custom-select-dropdown"},Pe={class:"custom-select-search"},Be=["placeholder"],Ie={class:"custom-select-options"},Re=["onClick","textContent"],Fe=["type","rows","cols","placeholder","required","textContent"],He=["multiple","placeholder","required"],Ye={class:"file-upload-progress"},Ee=["onClick"],Oe=e("ion-icon",{name:"attach-outline"},null,-1),ze=["textContent"],Xe={key:8,class:"invalid-feedback"},Je=["textContent"],rs={__name:"InputComponent",props:{type:{type:String,default:"text"},label:String|null,placeholder:String|null,errors:Array|Object|null,modelValue:{type:[Number,String],default:null,required:!1},required:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rows:{default:!1},cols:{default:!1},isModel:{type:Boolean,default:!0},path:{type:String,default:null},multiple:{type:Boolean,default:!1},help:{type:String,default:null},searchable:{type:Boolean,default:!1},options:{type:Object,default:{}},minDate:{type:String,default:null},maxDate:{type:String,default:null}},emits:["onFileUpload","onChange","update:modelValue"],setup(t,{emit:n}){const r=n,c=ee("trans"),_=K(),{callApi:p}=X(),i=t,f=V(!1),b=V("");let U,D,y=!1;const w=V({}),C="input_"+Math.random().toString(36).substr(2,9),T=async(g,h,u=!1)=>{let k=g;if(!u){for(let S=0;S<g.files.length;S++)T(g.files[S],h,!0);return}if(!k)return;y==!0&&i.multiple==!1&&(await D.cancel("File changed."),y=!1),y=!0,U=axios.CancelToken,D=U.source();const H=D,B=new Date().getTime()+Math.random()*999,j=await p({url:"/upload",method:"POST",data:{file:k,path:h},headers:{"Content-Type":"multipart/form-data"},config:{cancelToken:D.token,onUploadProgress:S=>{const{loaded:L,total:I}=S;let Y=Math.floor(L*100/I);Y<100&&(w.value[B]={loaded:L,total:I,percent:Y,source:H,fileInfo:k})}}});delete w.value[B],typeof j<"u"&&(y=!1,j.status==200&&(r("onFileUpload",j.data),r("update:modelValue",j.data.path)))},N=V(null);return te(async()=>{if(i.type=="date"){await ce();const g=$(N.value);let h={hijri:!0,locale:$("html").attr("lang")=="ar"?"ar-SA":"en-US",defaultDate:i.modelValue,format:"YYYY-MM-DD",hijriFormat:"iYYYY-iMM-iDD",timeZone:"Asia/Riyadh",isRTL:$("body").hasClass("rtl"),ignoreReadonly:!0,showClear:!0,showTodayButton:!0};i.minDate&&(h.minDate=i.minDate),i.maxDate&&(h.maxDate=i.maxDate),g.hijriDatePicker(h),g.on("dp.change",u=>{let k="";u.date&&(k=u.date.format("YYYY-MM-DD")),r("update:modelValue",k)})}}),(g,h)=>(a(),o("div",Se,[l(_).customLabel?(a(),o("div",Le,[e("label",{for:C,class:"d-block"},[P(g.$slots,"customLabel")])])):x("",!0),t.label&&!l(_).customLabel?(a(),o("label",{key:1,for:C,class:"label_",onClick:h[0]||(h[0]=u=>f.value=!f.value)},[e("span",{innerHTML:l(c)(t.label)},null,8,qe),z(),t.required?(a(),o("span",De,"*")):x("",!0)])):x("",!0),["text","email","password"].includes(t.type)?(a(),o("input",{key:2,type:t.type,class:M(["input_",{"is-invalid":t.errors}]),value:t.modelValue,onInput:h[1]||(h[1]=u=>g.$emit("update:modelValue",u.target.value)),placeholder:l(c)(t.placeholder||t.label),id:C,readonly:t.readonly,required:t.required},null,42,Ne)):t.type=="date"?(a(),o("input",{key:3,type:"text",class:M(["input_ datepicker_input",{"is-invalid":t.errors}]),readonly:"",placeholder:l(c)(t.placeholder||t.label),id:C,required:t.required,ref_key:"datepickerRef",ref:N},null,10,je)):t.type=="select"?(a(),o(q,{key:4},[t.searchable?(a(),o("div",{key:1,class:M({"custom-select":!0,"is-invalid":t.errors}),onClickout:h[5]||(h[5]=u=>f.value=!1)},[e("div",{class:"custom-select-selected form-control",onClick:h[3]||(h[3]=u=>f.value=!f.value)},m(t.options[t.modelValue]||l(c)(t.placeholder||t.label)+"..."),1),f.value?(a(),o("div",Ae,[e("div",Pe,[ue(e("input",{type:"text",placeholder:l(c)("Search"),"onUpdate:modelValue":h[4]||(h[4]=u=>b.value=u)},null,8,Be),[[pe,b.value]])]),e("div",Ie,[(a(!0),o(q,null,A(t.options,(u,k)=>(a(),o("div",{class:M({"custom-select-option":!0,selected:t.modelValue==k,hide:b.value&&!u.toLowerCase().includes(b.value.toLowerCase())}),onClick:H=>{t.isModel?g.$emit("update:modelValue",k):g.$emit("onChange",k),f.value=!1},textContent:m(u)},null,10,Re))),256))])])):x("",!0)],34)):(a(),o("select",{key:0,class:M(["form-select form-control",{"is-invalid":t.errors}]),value:t.modelValue,onChange:h[2]||(h[2]=u=>t.isModel?g.$emit("update:modelValue",u.target.value):g.$emit("onChange",u.target.value)),required:t.required},[e("option",{value:"",textContent:m(l(c)(t.placeholder||t.label)+"...")},null,8,Ue),P(g.$slots,"default")],42,Ve))],64)):x("",!0),t.type=="textarea"?(a(),o("textarea",{key:5,type:t.type,class:M(["form-control",{"is-invalid":t.errors}]),rows:t.rows,cols:t.cols,onInput:h[6]||(h[6]=u=>g.$emit("update:modelValue",u.target.value)),placeholder:l(c)(t.placeholder||t.label),required:t.required,textContent:m(t.modelValue)},null,42,Fe)):t.type=="file"?(a(),o(q,{key:6},[e("input",{type:"file",class:M({"form-control":!0,"is-invalid":t.errors,"d-none":l(_).customLabel}),multiple:t.multiple,onChange:h[7]||(h[7]=u=>T(u.target,t.path)),placeholder:l(c)(t.placeholder||t.label),required:t.required,id:C},null,42,He),(a(!0),o(q,null,A(w.value,u=>(a(),o("div",Ye,[e("a",{onClick:k=>u.source.cancel("Canceled by user"),href:"javascript:;",class:"text-danger"},"X",8,Ee),Oe,e("span",null,"("+m(u.percent)+"%) "+m(u.fileInfo.name),1),e("div",{class:"progress",style:he({width:u.percent+"%"})},null,4)]))),256))],64)):x("",!0),t.help?(a(),o("small",{key:7,class:"form-text text-muted",textContent:m(t.help)},null,8,ze)):x("",!0),t.errors?(a(),o("ul",Xe,[(a(!0),o(q,null,A(t.errors,u=>(a(),o("li",{textContent:m(u)},null,8,Je))),256))])):x("",!0)]))}},Ze={key:0,"aria-label":"..."},We={class:"pagination"},Ge=["onClick","innerHTML"],Qe=["innerHTML"],Ke={__name:"MainPaginationComponent",props:{meta:Array|Object},setup(t){return(n,r)=>t.meta.last_page!=1?(a(),o("nav",Ze,[e("ul",We,[(a(!0),o(q,null,A(t.meta.links,c=>(a(),o("li",{class:M(["page-item",{disabled:!c.url,active:c.active}])},[c.url&&!c.active?(a(),o("a",{key:0,class:"page-link",href:"javascript:;",onClick:_=>n.$emit("updateList",c.url),innerHTML:c.label},null,8,Ge)):(a(),o("span",{key:1,class:"page-link",innerHTML:c.label},null,8,Qe))],2))),256))])])):x("",!0)}},et=["textContent"],tt={key:1},st={key:0,class:"dropdown"},at=["textContent"],ot={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},nt=["onClick","textContent"],lt={key:0,class:"p5"},it={key:1,class:"text-center"},dt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),rt=[dt],ct=["textContent"],ut={key:3,class:"chartjs-bar"},pt={class:"chartjs-bar__container"},ht=["id"],mt={key:4,class:"is-proccessing"},ft=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),vt=[ft],cs={__name:"ChartJsComponent",props:{title:{type:String},stats_url:{type:String,required:!0},period:{type:String,default:"last_week"},type:{type:String,default:"bar"},version:{default:1},box:{type:Boolean,default:!0}},setup(t){const n=t,{makeFetchAllRef:r,fetchAll:c}=X(),_=V(n.period),p=n.stats_url,i=r(),f=async(y=null)=>{y=y??p.replace("periodValue",_.value),y=new URL(y),y.searchParams.append("type",n.type),y.searchParams.append("version",n.version),await c(y,i),i.value.response.status==200&&i.value.response.data&&i.value.response.data.chartData&&U()},b=V(null),U=()=>{const y=document.getElementById(i.value.response.data.id);b.value&&b.value.destroy();let w;n.type=="line"?w={responsive:!0,plugins:{legend:{position:"top",align:"start",display:!1}},scales:{y:{position:"right",beginAtZero:n.version!=1,border:{color:"#0864AF",width:n.version==1?3:0,z:1},ticks:{display:n.version!=1,min:1,callback:function(C,T,N){return C%1===0?C:""},font:{family:"Tajawal"}},clip:!1},x:{reverse:!0,border:{color:"#0864AF",width:n.version==1?3:0,z:1},ticks:{display:n.version!=1,font:{family:"Tajawal"}},grid:{display:!1}}},layout:{direction:"rtl",padding:{left:18}}}:w={responsive:!0,plugins:{legend:{position:"top",align:"start",display:!1}},scales:{y:{position:"right",ticks:{min:1,callback:function(C,T,N){return C%1===0?C:""},font:{family:"Tajawal"}},border:{width:0},clip:!1},x:{reverse:!0,offset:!0,border:{width:0},grid:{display:!1},ticks:{font:{family:"Tajawal"}}}},layout:{direction:"rtl"}},b.value=new Chart(y,{type:n.type,data:i.value.response.data.chartData,options:w})},D=y=>{_.value=y,f(p.replace("periodValue",y))};return te(async()=>{await f()}),(y,w)=>(a(),o("div",{class:M({"bg-white border rounded-16 py-4 px-4 h-100 position-relative":n.box})},[e("div",{class:M({"d-flex flex-wrap justify-content-between":n.box})},[n.box?(a(),o("h6",{key:0,class:"h7",textContent:m(t.title||"")},null,8,et)):x("",!0),l(i).response&&l(i).response.data&&l(i).response.data.periods?(a(),o("div",tt,[n.box?(a(),o("div",st,[e("p",{class:"dropdown-toggle",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",textContent:m(l(i).response.data.periods[_.value])},null,8,at),e("ul",ot,[(a(!0),o(q,null,A(l(i).response.data.periods,(C,T)=>(a(),o("li",null,[e("a",{class:"dropdown-item",href:"javascript:;",onClick:N=>D(T),textContent:m(C)},null,8,nt)]))),256))])])):x("",!0)])):x("",!0)],2),n.box?(a(),o("p",lt,"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .")):x("",!0),l(i).response?l(i).response.status!=200?(a(),o("div",{key:2,class:"text-center text-danger",textContent:m(l(i).response.data.message||l(i).response.statusText)},null,8,ct)):(a(),o("div",ut,[e("div",pt,[e("canvas",{id:l(i).response.data.id,height:"140"},null,8,ht)])])):(a(),o("div",it,rt)),l(i).isProccessing&&l(i).response?(a(),o("div",mt,vt)):x("",!0)],2))}};function se(){const{callApi:t}=X(),n=V({isProccessing:!0,response:null,data:[]}),r=async(p=null)=>{p=new URL(p??window._app.notificationsRoute),p.searchParams.append("timestamp",new Date().getTime()),p=p.href,n.value.isProccessing=!0;const i=n.value.response=await t({url:p});return n.value.isProccessing=!1,i.status==200&&(n.value.data=i.data),i.data.data},c=p=>window._app.notificationUrl.replace("notificationId",p.id),_=window._app.notificationsRoute.replace("stats","");return{notifications:n,getNotifications:r,notificationUrl:c,notificationsUrl:_}}const yt={class:"notifications-dropdown"},_t={class:"dropdown"},bt=["title"],gt=e("ion-icon",{name:"notifications-outline",style:{"font-size":"21px"}},null,-1),xt=["data-count"],$t={class:"count"},Ct=["textContent"],wt={class:"dropdown-menu dropdown-menu-lg dropdown-menu-end p-0","aria-labelledby":"page-header-notifications-dropdown"},kt={class:"pushNotifications__"},Mt={key:0,class:"text-center"},Tt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),St=[Tt],Lt=["textContent"],qt={key:2,class:"text-center py-3"},Dt=["href"],Nt={class:"flex-1 px-3"},jt=["textContent"],Vt={class:"font-size-12 text-muted"},Ut=["textContent"],At=["textContent"],Pt={class:"p-2 d-grid border-top"},Bt=["href"],It=e("i",{class:"mdi mdi-bell"},null,-1),us={__name:"NavbarNotificationsComponent",setup(t){const{getNotifications:n,notifications:r,notificationUrl:c,notificationsUrl:_}=se(),p=i=>{i.classList.contains("show")&&n()};return setTimeout(()=>{n()},100),setInterval(()=>{n()},1e4),(i,f)=>(a(),o("div",yt,[e("div",_t,[e("button",{type:"button",title:i.trans("Notifications"),class:"btn btn-transparent position-relative","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:f[0]||(f[0]=b=>p(b.delegateTarget))},[gt,l(r).data.unreadCount>0?(a(),o("span",{key:0,class:"position-absolute start-0 translate-middle badge rounded-pill bg-danger","data-count":l(r).data.unreadCount,style:{top:"5px"}},[e("span",$t,m(l(r).data.unreadCount),1),e("span",{class:"visually-hidden",textContent:m(i.trans("Unseen Notifications"))},null,8,Ct)],8,xt)):x("",!0)],8,bt),e("div",wt,[e("div",kt,[l(r).response?l(r).response.status!=200?(a(),o("div",{key:1,class:"text-center text-danger",textContent:m(l(r).response.data.message||l(r).response.statusText)},null,8,Lt)):l(r).data.data.length==0?(a(),o("div",qt,m(i.trans("No Notifications")),1)):(a(!0),o(q,{key:3},A(l(r).data.data,b=>(a(),o("a",{href:l(c)(b),class:"text-reset notification-item"},[e("div",{class:M(["py-3 border-bottom",{"bg-light":!b.readAt}]),style:{"border-color":"#bababa6b!important"}},[e("div",Nt,[e("h6",{class:"mb-1",textContent:m(b.title)},null,8,jt),e("div",Vt,[e("small",{class:"d-block text-dark",textContent:m(b.description)},null,8,Ut),e("small",{textContent:m(b.createdAtForHumans)},null,8,At)])])],2)],8,Dt))),256)):(a(),o("div",Mt,St))]),e("div",Pt,[e("a",{class:"font-size-14 text-center",href:l(_)},[It,z(" "+m(i.trans("Show all")),1)],8,Bt)])])])]))}},Rt={class:"d-flex justify-content-between align-items-center flex-wrap"},Ft={class:"d-flex mb-3 mb-md-0"},Ht={class:"d-flex flex-wrap"},Yt={class:"mb-0"},Et=e("i",{class:"bi bi-bell"},null,-1),Ot={class:"actions flex-grow"};const zt={key:0,class:"text-center"},Xt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Jt=[Xt],Zt=["textContent"],Wt={key:2,class:"text-center"},Gt={class:"mb-4"},Qt=["href"],Kt={class:"notification-body__ ms-2"},es=["textContent"],ts=["textContent"],ss=["textContent"],as={key:4,class:"is-proccessing"},os=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),ns=[os],ps={__name:"NotificationsComponent",setup(t){const{getNotifications:n,notifications:r,notificationUrl:c,notificationsUrl:_}=se();return setTimeout(()=>{n()},100),(p,i)=>(a(),me(we,{class:M({"mt-5":!0})},{header:G(()=>[e("div",Rt,[e("div",Ft,[e("div",Ht,[e("h5",Yt,[Et,z(" "+m(p.trans("Notifications")),1)])])]),e("div",Ot,[x("",!0)])])]),default:G(()=>[e("div",null,[l(r).response?l(r).response.status!=200?(a(),o("div",{key:1,class:"text-center text-danger",textContent:m(l(r).response.data.message||l(r).response.statusText)},null,8,Zt)):l(r).data.data.length==0?(a(),o("div",Wt,m(p.trans("No Notifications")),1)):(a(),o(q,{key:3},[e("div",Gt,[(a(!0),o(q,null,A(l(r).data.data,f=>(a(),o("a",{href:l(c)(f),class:"col-12 px-0 d-block text-dark"},[e("div",{class:M(["notification-item___ d-flex py-3 px-3 border-bottom",{"bg-light":!f.readAt}]),style:{"border-color":"#bababa6b!important"}},[e("div",Kt,[e("h5",{textContent:m(f.title)},null,8,es),e("small",{class:"mb-0 d-block",textContent:m(f.description)},null,8,ts),e("small",{class:"text-secondary mb-0",textContent:m(f.createdAtForHumans)},null,8,ss)])],2)],8,Qt))),256))]),fe(Ke,{meta:l(r).response.data.meta,onUpdateList:l(n)},null,8,["meta","onUpdateList"])],64)):(a(),o("div",zt,Jt)),l(r).isProccessing&&l(r).response?(a(),o("div",as,ns)):x("",!0)])]),_:1}))}};export{ds as M,we as _,is as a,Ke as b,rs as c,cs as d,us as e,ps as f};
