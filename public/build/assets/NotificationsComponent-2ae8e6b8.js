import{a as le,u as ie,_ as Q,j as o,m as n,l as e,q as B,L as K,J as l,t as x,H as ee,r as U,o as de,K as re,b as te,n as ce,v as z,s as k,F as q,x as m,y as ue,z as pe,A as P,B as he,C as X,g as me,i as G,k as fe}from"./common-1985a037.js";(function(){const t="on",a="out",r="body",c="stop",_="click",p="apply",d="target",f="prototype",g="Propagation",A="setAttribute",N="relatedTarget",y="addEventListener",w=Symbol(a),C=Object,M=document,j=typeof TouchEvent<"u"?TouchEvent:void 0,b=HTMLElement,h=b[f],u=Event[f],T=[_,"dbl"+_,"mousedown","mouseup","touchstart","touchend","pointerdown","pointerup"],H=new Set(T),D=new Set(T.map(s=>t+s+a)),V=(s,i)=>!!i&&s instanceof i,S=(s,i)=>s.contains(i),L=(s,i)=>{for(let v of s)i(v)},I=s=>{V(s,b)&&(s[w]?J(s):L(H,i=>{let v=t+i+a,F=s.getAttribute(v);F&&!Y(s)[v]&&s[A](v,F)}),L(s.childNodes,I))},Y=s=>s[w]=s[w]||{},J=s=>{Y(s),R.includes(s)||(R.push(s),O=!0)},oe=(s,i)=>S(i,s)?1:S(s,i)?-1:0,ne=s=>{O&&(R.sort(oe),O=!1);let i=s[d];V(s,j)?(s=new j(s.type+a,s))[N]=i:s=new s.constructor(s.type+a,C.assign({},s,{[N]:i})),s[c]=[],L(R,v=>{S(v,i)||s[c].some(F=>S(F,v))||v.dispatchEvent(s)})},Z=s=>function(){let i=this,v=i.type;s[p](i),D.has(t+v)&&i[c].push(i[d])},E=(s,i,v)=>s[i]=v(s[i]);function ae(s){let i=this[w][t+s.type];i&&i[p](this,[s])}let R=[],O=!1,W=M.createElement(r);L(H,s=>{M[y](s,ne,{passive:!0,capture:!0});let i=t+s+a;C.defineProperty(h,i,{get(){return this[w][i]},set(v){this[y](s+a,ae),this[w][i]=typeof v=="object"?v.handleEvent:v}})}),E(h,y,s=>function(...i){D.has(t+i[0])&&J(this),s[p](this,i)}),E(h,A,s=>function(i,v){D.has(i)?(s[p](W,[t+_,v]),this[i]=W[t+_]):s[p](this,[i,v])}),E(u,c+g,Z),E(u,c+"Immediate"+g,Z),new MutationObserver(s=>{L(s,i=>{L(i.addedNodes,I),L(i.removedNodes,v=>{V(v,b)&&(R=R.filter(F=>!S(v,F)))})})}).observe(M.documentElement,{childList:!0,subtree:!0}),I(M[r])})();window.axios=le;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const ve={rtl:document.querySelector("body").classList.contains("rtl"),position:document.querySelector("body").classList.contains("rtl")?"top-left":"top-right",transition:"Vue-Toastification__bounce",maxToasts:20,newestOnTop:!0,timeout:2300};window.toast=ie(ve);const ye=window.location.search;window.urlParams=new URLSearchParams(ye);const _e={},be={class:"table-responsive"},ge={class:"table table-borderless"};function xe(t,a){return o(),n("div",be,[e("table",ge,[e("thead",null,[B(t.$slots,"thead")]),e("tbody",null,[B(t.$slots,"default")])])])}const is=Q(_e,[["render",xe]]),$e={class:"bg-white border rounded-16 py-5 px-4 h-100 position-relative"},Ce={key:0},we={__name:"MainCardComponent",setup(t){const a=K();return(r,c)=>(o(),n("div",$e,[l(a).header?(o(),n("div",Ce,[B(r.$slots,"header")])):x("",!0),e("div",null,[B(r.$slots,"default")])]))}};const ke={class:"modal-container"},Me={class:"modal-content"},Te={__name:"MainModalComponent",emits:["closeModal"],setup(t,{emit:a}){const r=ee("trans"),c=a,_=U(!1),p=()=>{(!_.value||confirm(r("Are you sure that you want to close this modal?")))&&c("closeModal")};return de(()=>{_.value=!0}),(d,f)=>(o(),n("div",{class:"custom-modal",onClick:re(p,["self"])},[e("div",ke,[e("div",{class:"close-modal",onClick:p},"x"),e("div",Me,[B(d.$slots,"default",{},void 0,!0)])])]))}},ds=Q(Te,[["__scopeId","data-v-ee564640"]]),Se={class:"form-input mb-3"},Le={key:0},qe=["innerHTML"],Ne={key:0,class:"text-danger"},je=["type","value","placeholder","readonly","required"],Ve=["placeholder","readonly","required"],Ue=["value","required"],Ae=["textContent"],Pe={key:0,class:"custom-select-dropdown"},Be={class:"custom-select-search"},De=["placeholder"],Ie={class:"custom-select-options"},Re=["onClick","textContent"],Fe=["type","rows","cols","placeholder","required","textContent"],He=["multiple","placeholder","required"],Ye={class:"file-upload-progress"},Ee=["onClick"],Oe=e("ion-icon",{name:"attach-outline"},null,-1),ze=["textContent"],Xe={key:8,class:"invalid-feedback"},Je=["textContent"],rs={__name:"InputComponent",props:{type:{type:String,default:"text"},label:String|null,placeholder:String|null,errors:Array|Object|null,modelValue:{type:[Number,String],default:null,required:!1},required:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rows:{default:!1},cols:{default:!1},isModel:{type:Boolean,default:!0},path:{type:String,default:null},multiple:{type:Boolean,default:!1},help:{type:String,default:null},searchable:{type:Boolean,default:!1},options:{type:Object,default:{}}},emits:["onFileUpload","onChange","update:modelValue"],setup(t,{emit:a}){const r=a,c=ee("trans"),_=K(),{callApi:p}=X(),d=t,f=U(!1),g=U("");let A,N,y=!1;const w=U({}),C="input_"+Math.random().toString(36).substr(2,9),M=async(b,h,u=!1)=>{let T=b;if(!u){for(let S=0;S<b.files.length;S++)M(b.files[S],h,!0);return}if(!T)return;y==!0&&d.multiple==!1&&(await N.cancel("File changed."),y=!1),y=!0,A=axios.CancelToken,N=A.source();const H=N,D=new Date().getTime()+Math.random()*999,V=await p({url:"/upload",method:"POST",data:{file:T,path:h},headers:{"Content-Type":"multipart/form-data"},config:{cancelToken:N.token,onUploadProgress:S=>{const{loaded:L,total:I}=S;let Y=Math.floor(L*100/I);Y<100&&(w.value[D]={loaded:L,total:I,percent:Y,source:H,fileInfo:T})}}});delete w.value[D],typeof V<"u"&&(y=!1,V.status==200&&(r("onFileUpload",V.data),r("update:modelValue",V.data.path)))},j=U(null);return te(async()=>{if(d.type=="date"){await ce();const b=$(j.value);b.hijriDatePicker({hijri:!0,locale:$("html").attr("lang")=="ar"?"ar-SA":"en-US",defaultDate:d.modelValue,format:"YYYY-MM-DD",hijriFormat:"iYYYY-iMM-iDD",timeZone:"Asia/Riyadh",isRTL:$("body").hasClass("rtl"),ignoreReadonly:!0,showClear:!0,showTodayButton:!0}),b.on("dp.change",h=>{let u="";h.date&&(u=h.date.format("YYYY-MM-DD")),r("update:modelValue",u)}),b.on("dp.update",h=>{console.log("gg")})}}),(b,h)=>(o(),n("div",Se,[l(_).customLabel?(o(),n("div",Le,[e("label",{for:C,class:"d-block"},[B(b.$slots,"customLabel")])])):x("",!0),t.label&&!l(_).customLabel?(o(),n("label",{key:1,for:C,class:"label_",onClick:h[0]||(h[0]=u=>f.value=!f.value)},[e("span",{innerHTML:l(c)(t.label)},null,8,qe),z(),t.required?(o(),n("span",Ne,"*")):x("",!0)])):x("",!0),["text","email","password"].includes(t.type)?(o(),n("input",{key:2,type:t.type,class:k(["input_",{"is-invalid":t.errors}]),value:t.modelValue,onInput:h[1]||(h[1]=u=>b.$emit("update:modelValue",u.target.value)),placeholder:l(c)(t.placeholder||t.label),id:C,readonly:t.readonly,required:t.required},null,42,je)):t.type=="date"?(o(),n("input",{key:3,type:"text",class:k(["input_ datepicker_input",{"is-invalid":t.errors}]),readonly:"",placeholder:l(c)(t.placeholder||t.label),id:C,required:t.required,ref_key:"datepickerRef",ref:j},null,10,Ve)):t.type=="select"?(o(),n(q,{key:4},[t.searchable?(o(),n("div",{key:1,class:k({"custom-select":!0,"is-invalid":t.errors}),onClickout:h[5]||(h[5]=u=>f.value=!1)},[e("div",{class:"custom-select-selected form-control",onClick:h[3]||(h[3]=u=>f.value=!f.value)},m(t.options[t.modelValue]||l(c)(t.placeholder||t.label)+"..."),1),f.value?(o(),n("div",Pe,[e("div",Be,[ue(e("input",{type:"text",placeholder:l(c)("Search"),"onUpdate:modelValue":h[4]||(h[4]=u=>g.value=u)},null,8,De),[[pe,g.value]])]),e("div",Ie,[(o(!0),n(q,null,P(t.options,(u,T)=>(o(),n("div",{class:k({"custom-select-option":!0,selected:t.modelValue==T,hide:g.value&&!u.toLowerCase().includes(g.value.toLowerCase())}),onClick:H=>{t.isModel?b.$emit("update:modelValue",T):b.$emit("onChange",T),f.value=!1},textContent:m(u)},null,10,Re))),256))])])):x("",!0)],34)):(o(),n("select",{key:0,class:k(["form-select form-control",{"is-invalid":t.errors}]),value:t.modelValue,onChange:h[2]||(h[2]=u=>t.isModel?b.$emit("update:modelValue",u.target.value):b.$emit("onChange",u.target.value)),required:t.required},[e("option",{value:"",textContent:m(l(c)(t.placeholder||t.label)+"...")},null,8,Ae),B(b.$slots,"default")],42,Ue))],64)):x("",!0),t.type=="textarea"?(o(),n("textarea",{key:5,type:t.type,class:k(["form-control",{"is-invalid":t.errors}]),rows:t.rows,cols:t.cols,onInput:h[6]||(h[6]=u=>b.$emit("update:modelValue",u.target.value)),placeholder:l(c)(t.placeholder||t.label),required:t.required,textContent:m(t.modelValue)},null,42,Fe)):t.type=="file"?(o(),n(q,{key:6},[e("input",{type:"file",class:k({"form-control":!0,"is-invalid":t.errors,"d-none":l(_).customLabel}),multiple:t.multiple,onChange:h[7]||(h[7]=u=>M(u.target,t.path)),placeholder:l(c)(t.placeholder||t.label),required:t.required,id:C},null,42,He),(o(!0),n(q,null,P(w.value,u=>(o(),n("div",Ye,[e("a",{onClick:T=>u.source.cancel("Canceled by user"),href:"javascript:;",class:"text-danger"},"X",8,Ee),Oe,e("span",null,"("+m(u.percent)+"%) "+m(u.fileInfo.name),1),e("div",{class:"progress",style:he({width:u.percent+"%"})},null,4)]))),256))],64)):x("",!0),t.help?(o(),n("small",{key:7,class:"form-text text-muted",textContent:m(t.help)},null,8,ze)):x("",!0),t.errors?(o(),n("ul",Xe,[(o(!0),n(q,null,P(t.errors,u=>(o(),n("li",{textContent:m(u)},null,8,Je))),256))])):x("",!0)]))}},Ze={key:0,"aria-label":"..."},We={class:"pagination"},Ge=["onClick","innerHTML"],Qe=["innerHTML"],Ke={__name:"MainPaginationComponent",props:{meta:Array|Object},setup(t){return(a,r)=>t.meta.last_page!=1?(o(),n("nav",Ze,[e("ul",We,[(o(!0),n(q,null,P(t.meta.links,c=>(o(),n("li",{class:k(["page-item",{disabled:!c.url,active:c.active}])},[c.url&&!c.active?(o(),n("a",{key:0,class:"page-link",href:"javascript:;",onClick:_=>a.$emit("updateList",c.url),innerHTML:c.label},null,8,Ge)):(o(),n("span",{key:1,class:"page-link",innerHTML:c.label},null,8,Qe))],2))),256))])])):x("",!0)}},et=["textContent"],tt={key:1},st={key:0,class:"dropdown"},ot=["textContent"],nt={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},at=["onClick","textContent"],lt={key:0,class:"p5"},it={key:1,class:"text-center"},dt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),rt=[dt],ct=["textContent"],ut={key:3,class:"chartjs-bar"},pt={class:"chartjs-bar__container"},ht=["id"],mt={key:4,class:"is-proccessing"},ft=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),vt=[ft],cs={__name:"ChartJsComponent",props:{title:{type:String},stats_url:{type:String,required:!0},period:{type:String,default:"last_week"},type:{type:String,default:"bar"},version:{default:1},box:{type:Boolean,default:!0}},setup(t){const a=t,{makeFetchAllRef:r,fetchAll:c}=X(),_=U(a.period),p=a.stats_url,d=r(),f=async(y=null)=>{y=y??p.replace("periodValue",_.value),y=new URL(y),y.searchParams.append("type",a.type),y.searchParams.append("version",a.version),await c(y,d),d.value.response.status==200&&d.value.response.data&&d.value.response.data.chartData&&A()},g=U(null),A=()=>{const y=document.getElementById(d.value.response.data.id);g.value&&g.value.destroy();let w;a.type=="line"?w={responsive:!0,plugins:{legend:{position:"top",align:"start",display:!1}},scales:{y:{position:"right",beginAtZero:a.version!=1,border:{color:"#0864AF",width:a.version==1?3:0,z:1},ticks:{display:a.version!=1,min:1,callback:function(C,M,j){return C%1===0?C:""},font:{family:"Tajawal"}},clip:!1},x:{reverse:!0,border:{color:"#0864AF",width:a.version==1?3:0,z:1},ticks:{display:a.version!=1,font:{family:"Tajawal"}},grid:{display:!1}}},layout:{direction:"rtl",padding:{left:18}}}:w={responsive:!0,plugins:{legend:{position:"top",align:"start",display:!1}},scales:{y:{position:"right",ticks:{min:1,callback:function(C,M,j){return C%1===0?C:""},font:{family:"Tajawal"}},border:{width:0},clip:!1},x:{reverse:!0,offset:!0,border:{width:0},grid:{display:!1},ticks:{font:{family:"Tajawal"}}}},layout:{direction:"rtl"}},g.value=new Chart(y,{type:a.type,data:d.value.response.data.chartData,options:w})},N=y=>{_.value=y,f(p.replace("periodValue",y))};return te(async()=>{await f()}),(y,w)=>(o(),n("div",{class:k({"bg-white border rounded-16 py-4 px-4 h-100 position-relative":a.box})},[e("div",{class:k({"d-flex flex-wrap justify-content-between":a.box})},[a.box?(o(),n("h6",{key:0,class:"h7",textContent:m(t.title||"")},null,8,et)):x("",!0),l(d).response&&l(d).response.data&&l(d).response.data.periods?(o(),n("div",tt,[a.box?(o(),n("div",st,[e("p",{class:"dropdown-toggle",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",textContent:m(l(d).response.data.periods[_.value])},null,8,ot),e("ul",nt,[(o(!0),n(q,null,P(l(d).response.data.periods,(C,M)=>(o(),n("li",null,[e("a",{class:"dropdown-item",href:"javascript:;",onClick:j=>N(M),textContent:m(C)},null,8,at)]))),256))])])):x("",!0)])):x("",!0)],2),a.box?(o(),n("p",lt,"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .")):x("",!0),l(d).response?l(d).response.status!=200?(o(),n("div",{key:2,class:"text-center text-danger",textContent:m(l(d).response.data.message||l(d).response.statusText)},null,8,ct)):(o(),n("div",ut,[e("div",pt,[e("canvas",{id:l(d).response.data.id,height:"140"},null,8,ht)])])):(o(),n("div",it,rt)),l(d).isProccessing&&l(d).response?(o(),n("div",mt,vt)):x("",!0)],2))}};function se(){const{callApi:t}=X(),a=U({isProccessing:!0,response:null,data:[]}),r=async(p=null)=>{p=new URL(p??window._app.notificationsRoute),p.searchParams.append("timestamp",new Date().getTime()),p=p.href,a.value.isProccessing=!0;const d=a.value.response=await t({url:p});return a.value.isProccessing=!1,d.status==200&&(a.value.data=d.data),d.data.data},c=p=>window._app.notificationUrl.replace("notificationId",p.id),_=window._app.notificationsRoute.replace("stats","");return{notifications:a,getNotifications:r,notificationUrl:c,notificationsUrl:_}}const yt={class:"notifications-dropdown"},_t={class:"dropdown"},bt=["title"],gt=e("ion-icon",{name:"notifications-outline",style:{"font-size":"21px"}},null,-1),xt=["data-count"],$t={class:"count"},Ct=["textContent"],wt={class:"dropdown-menu dropdown-menu-lg dropdown-menu-end p-0","aria-labelledby":"page-header-notifications-dropdown"},kt={class:"pushNotifications__"},Mt={key:0,class:"text-center"},Tt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),St=[Tt],Lt=["textContent"],qt={key:2,class:"text-center py-3"},Nt=["href"],jt={class:"flex-1 px-3"},Vt=["textContent"],Ut={class:"font-size-12 text-muted"},At=["textContent"],Pt=["textContent"],Bt={class:"p-2 d-grid border-top"},Dt=["href"],It=e("i",{class:"mdi mdi-bell"},null,-1),us={__name:"NavbarNotificationsComponent",setup(t){const{getNotifications:a,notifications:r,notificationUrl:c,notificationsUrl:_}=se(),p=d=>{d.classList.contains("show")&&a()};return setTimeout(()=>{a()},100),setInterval(()=>{a()},1e4),(d,f)=>(o(),n("div",yt,[e("div",_t,[e("button",{type:"button",title:d.trans("Notifications"),class:"btn btn-transparent position-relative","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:f[0]||(f[0]=g=>p(g.delegateTarget))},[gt,l(r).data.unreadCount>0?(o(),n("span",{key:0,class:"position-absolute start-0 translate-middle badge rounded-pill bg-danger","data-count":l(r).data.unreadCount,style:{top:"5px"}},[e("span",$t,m(l(r).data.unreadCount),1),e("span",{class:"visually-hidden",textContent:m(d.trans("Unseen Notifications"))},null,8,Ct)],8,xt)):x("",!0)],8,bt),e("div",wt,[e("div",kt,[l(r).response?l(r).response.status!=200?(o(),n("div",{key:1,class:"text-center text-danger",textContent:m(l(r).response.data.message||l(r).response.statusText)},null,8,Lt)):l(r).data.data.length==0?(o(),n("div",qt,m(d.trans("No Notifications")),1)):(o(!0),n(q,{key:3},P(l(r).data.data,g=>(o(),n("a",{href:l(c)(g),class:"text-reset notification-item"},[e("div",{class:k(["py-3 border-bottom",{"bg-light":!g.readAt}]),style:{"border-color":"#bababa6b!important"}},[e("div",jt,[e("h6",{class:"mb-1",textContent:m(g.title)},null,8,Vt),e("div",Ut,[e("small",{class:"d-block text-dark",textContent:m(g.description)},null,8,At),e("small",{textContent:m(g.createdAtForHumans)},null,8,Pt)])])],2)],8,Nt))),256)):(o(),n("div",Mt,St))]),e("div",Bt,[e("a",{class:"font-size-14 text-center",href:l(_)},[It,z(" "+m(d.trans("Show all")),1)],8,Dt)])])])]))}},Rt={class:"d-flex justify-content-between align-items-center flex-wrap"},Ft={class:"d-flex mb-3 mb-md-0"},Ht={class:"d-flex flex-wrap"},Yt={class:"mb-0"},Et=e("i",{class:"bi bi-bell"},null,-1),Ot={class:"actions flex-grow"};const zt={key:0,class:"text-center"},Xt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Jt=[Xt],Zt=["textContent"],Wt={key:2,class:"text-center"},Gt={class:"mb-4"},Qt=["href"],Kt={class:"notification-body__ ms-2"},es=["textContent"],ts=["textContent"],ss=["textContent"],os={key:4,class:"is-proccessing"},ns=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),as=[ns],ps={__name:"NotificationsComponent",setup(t){const{getNotifications:a,notifications:r,notificationUrl:c,notificationsUrl:_}=se();return setTimeout(()=>{a()},100),(p,d)=>(o(),me(we,{class:k({"mt-5":!0})},{header:G(()=>[e("div",Rt,[e("div",Ft,[e("div",Ht,[e("h5",Yt,[Et,z(" "+m(p.trans("Notifications")),1)])])]),e("div",Ot,[x("",!0)])])]),default:G(()=>[e("div",null,[l(r).response?l(r).response.status!=200?(o(),n("div",{key:1,class:"text-center text-danger",textContent:m(l(r).response.data.message||l(r).response.statusText)},null,8,Zt)):l(r).data.data.length==0?(o(),n("div",Wt,m(p.trans("No Notifications")),1)):(o(),n(q,{key:3},[e("div",Gt,[(o(!0),n(q,null,P(l(r).data.data,f=>(o(),n("a",{href:l(c)(f),class:"col-12 px-0 d-block text-dark"},[e("div",{class:k(["notification-item___ d-flex py-3 px-3 border-bottom",{"bg-light":!f.readAt}]),style:{"border-color":"#bababa6b!important"}},[e("div",Kt,[e("h5",{textContent:m(f.title)},null,8,es),e("small",{class:"mb-0 d-block",textContent:m(f.description)},null,8,ts),e("small",{class:"text-secondary mb-0",textContent:m(f.createdAtForHumans)},null,8,ss)])],2)],8,Qt))),256))]),fe(Ke,{meta:l(r).response.data.meta,onUpdateList:l(a)},null,8,["meta","onUpdateList"])],64)):(o(),n("div",zt,Jt)),l(r).isProccessing&&l(r).response?(o(),n("div",os,as)):x("",!0)])]),_:1}))}};export{ds as M,we as _,is as a,Ke as b,rs as c,cs as d,us as e,ps as f};
