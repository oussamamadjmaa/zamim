import{_ as z,M as O,a as J,b as B,c as C,d as te,e as oe,f as se}from"./NotificationsComponent-2ae8e6b8.js";import{C as G,H as K,I as Z,r as H,m as d,k as v,i as k,J as t,g as q,s as R,t as P,F as V,j as r,l as e,x as l,v as L,A as N,K as j,e as X,E as ne,G as Y}from"./common-1985a037.js";function W(){const{callApi:F,fetchAll:a,fetchOne:i,makeFetchAllRef:y,makeFormRef:b,storeForm:w}=G(),o=`${window._app.url}/students`,m=y(),c=async(g=null)=>{await a(g??o,m)},S=async g=>await i(`${o}/${g}`),x=b({profile:{}},o),D=async()=>{await w(x,m)},T=b({},o+"/import");return{students:m,getStudents:c,getStudent:S,studentForm:x,storeStudent:D,destroyStudent:g=>{m.value.list=m.value.list.filter(A=>A!=g),F({url:o+"/"+g.id,method:"POST",data:{_method:"DELETE"}})},importStudentForm:T,importStudents:async()=>{await w(T,m,{headers:{"Content-Type":"multipart/form-data"},successCallback:()=>setTimeout(()=>{window.location.reload()},2e3)})},pageUrl:o}}const le={class:"d-flex flex-wrap justify-content-between"},ae=["textContent"],ie=["placeholder"],re={class:"text-end"},de=e("ion-icon",{name:"cloud-upload-outline"},null,-1),ce=e("ion-icon",{name:"add"},null,-1),ue=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),pe={key:0,class:"text-center"},me=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),_e=[me],he=["textContent"],ve={key:2,class:"text-center"},be=e("th",null,"#",-1),fe=["textContent"],$e=["textContent"],ye=["href","textContent"],Ce=["textContent"],xe=["href","textContent"],ge=["href","textContent"],we=["textContent"],ke=["textContent"],Ve=["textContent"],Te={class:"d-flex"},Se=["onClick"],Ue=e("ion-icon",{name:"create-outline"},null,-1),Ae=[Ue],Pe=["onClick"],Fe=e("ion-icon",{name:"trash-outline"},null,-1),De=[Fe],Ee={key:4,class:"is-proccessing"},Me=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Le=[Me],qe={class:"p-5 px-4"},Ne=["textContent"],Re={class:"row"},Oe=["textContent"],je={class:"row"},Ie={class:"mt-3"},Be=["disabled"],Ge={class:"p-5 px-4"},He={class:"mb-3 col-12"},Ke={class:"mb-3"},Ze=["textContent"],ze=["placeholder"],Je={class:"mt-3"},We=["disabled"],Qe={__name:"StudentsComponent",setup(F){const a=K("trans"),{students:i,getStudents:y,getStudent:b,storeStudent:w,studentForm:o,destroyStudent:m,importStudentForm:c,importStudents:S}=W(),x=async()=>{await w(),o.value.response.status==200&&!o.value.update&&(o.value.show=!1)},D=async u=>{i.value.isProccessing=!0,u=await b(u.id),i.value.isProccessing=!1,u&&(i.value.list=i.value.list.map(n=>n.id==u.id?u:n),o.value.show=!0,o.value.data={name:u.name,email:u.email,phone_number:u.phoneNumber,profile:{parent_name:u.profile.parentName,parent_email:u.profile.parentEmail,level:u.profile.level,class:u.profile.class,division:u.profile.division}},o.value.update=u)},T=()=>{o.value.show=!1,o.value.errors=[]},f=()=>{c.value.show=!1,c.value.errors=[]},U=u=>{c.value.data.file=u.target.files.length>0?u.target.files[0]:null};Z(()=>{o.value.show||(o.value.response=null,o.value.errors=[],o.value.update&&(o.value.data=o.value.defaultData,o.value.update=null)),c.value.show||(c.value.response=null,c.value.errors=[])});const g=u=>{confirm(a("Do you really want to delete this record?"))&&m(u)};y();const A=H(null),E=u=>{A.value&&clearTimeout(A.value),i.value.search=u.target.value,A.value=setTimeout(()=>{y()},600)};return(u,n)=>(r(),d(V,null,[v(z,null,{header:k(()=>[e("div",le,[e("h6",{class:"h7",textContent:l(t(a)("Students"))},null,8,ae),e("input",{type:"text",class:"form-control mb-2",style:{"max-width":"300px"},placeholder:t(a)("Search"),onKeyup:n[0]||(n[0]=s=>E(s))},null,40,ie),e("div",re,[e("button",{class:"button bg-primary mb-2 me-2",onClick:n[1]||(n[1]=s=>t(c).show=!t(c).show)},[de,L(" "+l(t(a)("Import students")),1)]),e("button",{class:"primary-button mb-2",onClick:n[2]||(n[2]=s=>t(o).show=!t(o).show)},[ce,L(" "+l(t(a)("Add new student")),1)])])]),ue]),default:k(()=>[e("div",null,[t(i).response?t(i).response.status!=200?(r(),d("div",{key:1,class:"text-center text-danger",textContent:l(t(i).response.data.message||t(i).response.statusText)},null,8,he)):t(i).list.length==0?(r(),d("div",ve,l(t(a)("No Data")),1)):(r(),d(V,{key:3},[v(J,null,{thead:k(()=>[e("tr",null,[be,e("th",null,l(t(a)("Student name")),1),e("th",null,l(t(a)("Official email")),1),e("th",null,l(t(a)("Guardian name")),1),e("th",null,l(t(a)("Guardian phone number")),1),e("th",null,l(t(a)("Guardian email")),1),e("th",null,l(t(a)("Level")),1),e("th",null,l(t(a)("Class")),1),e("th",null,l(t(a)("Division")),1),e("th",null,l(t(a)("Operations")),1)])]),default:k(()=>[(r(!0),d(V,null,N(t(i).list,s=>(r(),d("tr",null,[e("td",{scope:"row",textContent:l(s.id)},null,8,fe),e("td",{textContent:l(s.name)},null,8,$e),e("td",null,[e("a",{href:"mailto:"+s.email,textContent:l(s.email)},null,8,ye)]),e("td",{textContent:l(s.profile.parentName)},null,8,Ce),e("td",null,[s.phoneNumber?(r(),d("a",{key:0,href:"tel:"+s.phoneNumber,textContent:l(s.phoneNumber),dir:"ltr"},null,8,xe)):(r(),d(V,{key:1},[L(l(t(a)("Not included")),1)],64))]),e("td",null,[s.profile.parentEmail?(r(),d("a",{key:0,href:"mailto:"+s.profile.parentEmail,textContent:l(s.profile.parentEmail),dir:"ltr"},null,8,ge)):(r(),d(V,{key:1},[L(l(t(a)("Not included")),1)],64))]),e("td",{textContent:l(s.profile.levelText)},null,8,we),e("td",{textContent:l(s.profile.class)},null,8,ke),e("td",{textContent:l(s.profile.division)},null,8,Ve),e("td",Te,[e("button",{type:"button",class:"primary-button p-0 px-2 me-2",onClick:h=>D(s)},Ae,8,Se),e("button",{type:"button",onClick:h=>g(s),class:"button button-red p-0 px-2"},De,8,Pe)])]))),256))]),_:1}),v(B,{meta:t(i).response.data.meta,onUpdateList:t(y)},null,8,["meta","onUpdateList"])],64)):(r(),d("div",pe,_e)),t(i).isProccessing&&t(i).response?(r(),d("div",Ee,Le)):P("",!0)])]),_:1}),t(o).show?(r(),q(O,{key:0,onCloseModal:n[13]||(n[13]=s=>T()),class:R({"w-1000px":!0})},{default:k(()=>[e("div",qe,[e("form",{onSubmit:n[12]||(n[12]=j(s=>x(),["prevent"]))},[e("h6",{class:"h9 border-bottom pb-3 mb-4",textContent:l(t(a)("Student information"))},null,8,Ne),e("div",Re,[v(C,{class:"col-md-6",errors:t(o).errors.name,label:'<ion-icon name="person"></ion-icon>',placeholder:"Student name",modelValue:t(o).data.name,"onUpdate:modelValue":n[3]||(n[3]=s=>t(o).data.name=s),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-6",type:"email",errors:t(o).errors.email,label:'<ion-icon name="mail"></ion-icon>',placeholder:"Official email",modelValue:t(o).data.email,"onUpdate:modelValue":n[4]||(n[4]=s=>t(o).data.email=s),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-6",type:"select",searchable:!0,label:'<ion-icon name="school"></ion-icon>',placeholder:"Level",errors:t(o).errors["profile.level"],modelValue:t(o).data.profile.level,"onUpdate:modelValue":n[5]||(n[5]=s=>t(o).data.profile.level=s),options:{primary:t(a)("Primary"),middle:t(a)("Middle"),secondary:t(a)("Secondary")},required:!0},null,8,["errors","modelValue","options"]),v(C,{class:"col-md-6",errors:t(o).errors["profile.class"],label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Class",modelValue:t(o).data.profile.class,"onUpdate:modelValue":n[6]||(n[6]=s=>t(o).data.profile.class=s),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-6",errors:t(o).errors["profile.division"],label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Division",modelValue:t(o).data.profile.division,"onUpdate:modelValue":n[7]||(n[7]=s=>t(o).data.profile.division=s),required:!0},null,8,["errors","modelValue"])]),e("h6",{class:"h9 border-bottom pb-3 mb-4",textContent:l(t(a)("Guardian information"))},null,8,Oe),e("div",je,[v(C,{class:"col-md-6",errors:t(o).errors["profile.parent_name"],label:'<ion-icon name="person"></ion-icon>',placeholder:"Name",modelValue:t(o).data.profile.parent_name,"onUpdate:modelValue":n[8]||(n[8]=s=>t(o).data.profile.parent_name=s),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-6",errors:t(o).errors.phone_number,label:'<ion-icon name="call"></ion-icon>',dir:"ltr",placeholder:"Guardian phone",modelValue:t(o).data.phone_number,"onUpdate:modelValue":n[9]||(n[9]=s=>t(o).data.phone_number=s),required:!0},null,8,["errors","modelValue"]),v(C,{type:"email",class:"col-md-6",errors:t(o).errors["profile.parent_email"],label:'<ion-icon name="mail"></ion-icon>',placeholder:"Guardian email",modelValue:t(o).data.profile.parent_email,"onUpdate:modelValue":n[10]||(n[10]=s=>t(o).data.profile.parent_email=s)},null,8,["errors","modelValue"])]),e("div",Ie,[e("button",{type:"submit",class:"primary-button",disabled:t(o).processing},l(t(o).processing?t(a)("Please wait"):t(o).update?t(a)("Update"):t(a)("Save")),9,Be),e("button",{type:"button",class:"secondary-button ms-2",onClick:n[11]||(n[11]=s=>T())},l(t(a)("Close")),1)])],32)])]),_:1})):P("",!0),t(c).show?(r(),q(O,{key:1,onCloseModal:n[18]||(n[18]=s=>f()),class:R({"w-1000px":!0})},{default:k(()=>[e("div",Ge,[e("form",{onSubmit:n[17]||(n[17]=j(s=>t(S)(),["prevent"]))},[v(C,{type:"select",searchable:!0,label:'<ion-icon name="school"></ion-icon>',placeholder:"Level",errors:t(c).errors.level,modelValue:t(c).data.level,"onUpdate:modelValue":n[14]||(n[14]=s=>t(c).data.level=s),options:{primary:t(a)("Primary"),middle:t(a)("Middle"),secondary:t(a)("Secondary")},required:!0},null,8,["errors","modelValue","options"]),e("div",He,[e("div",Ke,[e("label",{for:"file",class:"form-label",textContent:l(t(a)("Excel file"))},null,8,Ze),e("input",{type:"file",class:"form-control",onChange:n[15]||(n[15]=s=>U(s)),id:"file",placeholder:t(a)("Excel file"),accept:".xlsx, .xls",required:""},null,40,ze)])]),e("div",Je,[e("button",{type:"submit",class:"primary-button",disabled:t(c).processing},l(t(c).processing?t(a)("Please wait")+" ("+t(c).process.percent+"%)":t(a)("Import")),9,We),e("button",{type:"button",class:"secondary-button ms-2",onClick:n[16]||(n[16]=s=>f())},l(t(a)("Close")),1)])],32)])]),_:1})):P("",!0)],64))}};function Q(){const{callApi:F,fetchAll:a,fetchOne:i,makeFetchAllRef:y,makeFormRef:b,storeForm:w}=G(),o=`${window._app.url}/teachers`,m=y(),c=async(g=null)=>{await a(g??o,m)},S=async g=>await i(`${o}/${g}`),x=b({},o),D=async()=>{await w(x,m)},T=b({},o+"/import");return{teachers:m,getTeachers:c,getTeacher:S,teacherForm:x,storeTeacher:D,destroyTeacher:g=>{m.value.list=m.value.list.filter(A=>A!=g),F({url:o+"/"+g.id,method:"POST",data:{_method:"DELETE"}})},importTeacherForm:T,importTeachers:async()=>{await w(T,m,{headers:{"Content-Type":"multipart/form-data"},successCallback:()=>setTimeout(()=>{window.location.reload()},2e3)})},pageUrl:o}}const Xe={class:"d-flex flex-wrap justify-content-between"},Ye=["textContent"],et=["placeholder"],tt={class:"text-end"},ot=e("ion-icon",{name:"cloud-upload-outline"},null,-1),st=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),nt={key:0,class:"text-center"},lt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),at=[lt],it=["textContent"],rt={key:2,class:"text-center"},dt=e("th",null,"#",-1),ct=["textContent"],ut=["textContent"],pt=["href","textContent"],mt=["href","textContent"],_t={class:"d-flex"},ht=["onClick"],vt=e("ion-icon",{name:"create-outline"},null,-1),bt=[vt],ft=["onClick"],$t=e("ion-icon",{name:"trash-outline"},null,-1),yt=[$t],Ct={key:4,class:"is-proccessing"},xt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),gt=[xt],wt={class:"p-5 px-4"},kt=["textContent"],Vt={class:"row"},Tt={class:"mt-3"},St=["disabled"],Ut={class:"p-5 px-4"},At={class:"mb-3 col-12"},Pt={class:"mb-3"},Ft=["textContent"],Dt=["placeholder"],Et={class:"mt-3"},Mt=["disabled"],Lt={__name:"TeachersComponent",setup(F){const a=K("trans"),{teachers:i,getTeachers:y,getTeacher:b,storeTeacher:w,teacherForm:o,destroyTeacher:m,importTeacherForm:c,importTeachers:S}=Q(),x=async()=>{await w(),o.value.response.status==200&&!o.value.update&&(o.value.show=!1)},D=async u=>{i.value.isProccessing=!0,u=await b(u.id),i.value.isProccessing=!1,u&&(i.value.list=i.value.list.map(n=>n.id==u.id?u:n),o.value.show=!0,o.value.data={name:u.name,email:u.email,phone_number:u.phoneNumber},o.value.update=u)},T=()=>{o.value.show=!1,o.value.errors=[]},f=()=>{c.value.show=!1,c.value.errors=[]},U=u=>{c.value.data.file=u.target.files.length>0?u.target.files[0]:null};Z(()=>{o.value.show||(o.value.response=null,o.value.errors=[],o.value.update&&(o.value.data=o.value.defaultData,o.value.update=null))});const g=u=>{confirm(a("Do you really want to delete this record?"))&&m(u)};y();const A=H(null),E=u=>{A.value&&clearTimeout(A.value),i.value.search=u.target.value,A.value=setTimeout(()=>{y()},600)};return(u,n)=>(r(),d(V,null,[v(z,null,{header:k(()=>[e("div",Xe,[e("h6",{class:"h7",textContent:l(t(a)("Teachers"))},null,8,Ye),e("input",{type:"text",class:"form-control mb-2",style:{"max-width":"300px"},placeholder:t(a)("Search"),onKeyup:n[0]||(n[0]=s=>E(s))},null,40,et),e("div",tt,[e("button",{class:"button bg-primary mb-2 me-2",onClick:n[1]||(n[1]=s=>t(c).show=!t(c).show)},[ot,L(" "+l(t(a)("Import teachers")),1)]),e("button",{class:"primary-button",onClick:n[2]||(n[2]=s=>t(o).show=!t(o).show)},l(t(a)("Add new teacher")),1)])]),st]),default:k(()=>[e("div",null,[t(i).response?t(i).response.status!=200?(r(),d("div",{key:1,class:"text-center text-danger",textContent:l(t(i).response.data.message||t(i).response.statusText)},null,8,it)):t(i).list.length==0?(r(),d("div",rt,l(t(a)("No Data")),1)):(r(),d(V,{key:3},[v(J,null,{thead:k(()=>[e("tr",null,[dt,e("th",null,l(t(a)("Teacher name")),1),e("th",null,l(t(a)("Official email")),1),e("th",null,l(t(a)("Phone number")),1),e("th",null,l(t(a)("Operations")),1)])]),default:k(()=>[(r(!0),d(V,null,N(t(i).list,s=>(r(),d("tr",null,[e("td",{scope:"row",textContent:l(s.id)},null,8,ct),e("td",{textContent:l(s.name)},null,8,ut),e("td",null,[e("a",{href:"mailto:"+s.email,textContent:l(s.email)},null,8,pt)]),e("td",null,[s.phoneNumber?(r(),d("a",{key:0,href:"tel:"+s.phoneNumber,textContent:l(s.phoneNumber),dir:"ltr"},null,8,mt)):(r(),d(V,{key:1},[L(l(t(a)("Not included")),1)],64))]),e("td",_t,[e("button",{type:"button",class:"primary-button p-0 px-2 me-2",onClick:h=>D(s)},bt,8,ht),e("button",{type:"button",onClick:h=>g(s),class:"button button-red p-0 px-2"},yt,8,ft)])]))),256))]),_:1}),v(B,{meta:t(i).response.data.meta,onUpdateList:t(y)},null,8,["meta","onUpdateList"])],64)):(r(),d("div",nt,at)),t(i).isProccessing&&t(i).response?(r(),d("div",Ct,gt)):P("",!0)])]),_:1}),t(o).show?(r(),q(O,{key:0,onCloseModal:n[8]||(n[8]=s=>T()),class:R({"w-1000px":!0})},{default:k(()=>[e("div",wt,[e("form",{onSubmit:n[7]||(n[7]=j(s=>x(),["prevent"]))},[e("h6",{class:"h9 border-bottom pb-3 mb-4",textContent:l(t(a)("Teacher information"))},null,8,kt),e("div",Vt,[v(C,{class:"col-md-6",errors:t(o).errors.name,label:'<ion-icon name="person"></ion-icon>',placeholder:"Teacher name",modelValue:t(o).data.name,"onUpdate:modelValue":n[3]||(n[3]=s=>t(o).data.name=s),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-6",type:"email",errors:t(o).errors.email,label:'<ion-icon name="mail"></ion-icon>',placeholder:"Official email",modelValue:t(o).data.email,"onUpdate:modelValue":n[4]||(n[4]=s=>t(o).data.email=s),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-6",errors:t(o).errors.phone_number,label:'<ion-icon name="call"></ion-icon>',placeholder:"Phone number",modelValue:t(o).data.phone_number,"onUpdate:modelValue":n[5]||(n[5]=s=>t(o).data.phone_number=s),dir:"ltr",required:!0},null,8,["errors","modelValue"])]),e("div",Tt,[e("button",{type:"submit",class:"primary-button",disabled:t(o).processing},l(t(o).processing?t(a)("Please wait"):t(o).update?t(a)("Update"):t(a)("Save")),9,St),e("button",{type:"button",class:"secondary-button ms-2",onClick:n[6]||(n[6]=s=>T())},l(t(a)("Close")),1)])],32)])]),_:1})):P("",!0),t(c).show?(r(),q(O,{key:1,onCloseModal:n[12]||(n[12]=s=>f()),class:R({"w-1000px":!0})},{default:k(()=>[e("div",Ut,[e("form",{onSubmit:n[11]||(n[11]=j(s=>t(S)(),["prevent"]))},[e("div",At,[e("div",Pt,[e("label",{for:"file",class:"form-label",textContent:l(t(a)("Excel file"))},null,8,Ft),e("input",{type:"file",class:"form-control",onChange:n[9]||(n[9]=s=>U(s)),id:"file",placeholder:t(a)("Excel file"),accept:".xlsx, .xls",required:""},null,40,Dt)])]),e("div",Et,[e("button",{type:"submit",class:"primary-button",disabled:t(c).processing},l(t(c).processing?t(a)("Please wait")+" ("+t(c).process.percent+"%)":t(a)("Import")),9,Mt),e("button",{type:"button",class:"secondary-button ms-2",onClick:n[10]||(n[10]=s=>f())},l(t(a)("Close")),1)])],32)])]),_:1})):P("",!0)],64))}};function qt(){const{callApi:F,fetchAll:a,fetchOne:i,makeFetchAllRef:y,makeFormRef:b,storeForm:w}=G(),o=`${window._app.url}/radios`,m=y(),c=async(f=null)=>{await a(f??o,m)},S=async f=>await i(`${o}/${f}`),x=b({students:[]},o);return{radios:m,getRadios:c,getRadio:S,radioForm:x,storeRadio:async()=>{await w(x,m)},destroyRadio:f=>{m.value.list=m.value.list.filter(U=>U!=f),F({url:o+"/"+f.id,method:"POST",data:{_method:"DELETE"}})},pageUrl:o}}const Nt={class:"row px-0 mx-0"},Rt={class:"col-md-4 mb-4"},Ot={class:"bg-white border rounded-16 py-4 px-4 h-100"},jt={class:"h7 mb-2"},It=e("ion-icon",{name:"radio-outline"},null,-1),Bt=["textContent"],Gt=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),Ht=e("div",{class:"action-box-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"56",height:"56",viewBox:"0 0 56 56",fill:"none"},[e("path",{d:"M49.875 28C49.875 28.6962 49.5984 29.3639 49.1062 29.8562C48.6139 30.3484 47.9462 30.625 47.25 30.625H30.625V47.25C30.625 47.9462 30.3484 48.6139 29.8562 49.1062C29.3639 49.5984 28.6962 49.875 28 49.875C27.3038 49.875 26.6361 49.5984 26.1438 49.1062C25.6516 48.6139 25.375 47.9462 25.375 47.25V30.625H8.75C8.05381 30.625 7.38613 30.3484 6.89384 29.8562C6.40156 29.3639 6.125 28.6962 6.125 28C6.125 27.3038 6.40156 26.6361 6.89384 26.1438C7.38613 25.6516 8.05381 25.375 8.75 25.375H25.375V8.75C25.375 8.05381 25.6516 7.38613 26.1438 6.89384C26.6361 6.40156 27.3038 6.125 28 6.125C28.6962 6.125 29.3639 6.40156 29.8562 6.89384C30.3484 7.38613 30.625 8.05381 30.625 8.75V25.375H47.25C47.9462 25.375 48.6139 25.6516 49.1062 26.1438C49.5984 26.6361 49.875 27.3038 49.875 28Z",fill:"#667080","fill-opacity":"0.1"})])],-1),Kt=["textContent"],Zt={key:0,class:"text-center"},zt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Jt=[zt],Wt=["textContent"],Qt={key:2,class:"text-center"},Xt={class:"col-md-4 mb-4"},Yt={class:"radio-box bg-white border rounded-16 h-100 overlay-actions-parent"},eo={class:"radio-info px-4 pt-3"},to={class:"mb-3 text-secondary"},oo=["textContent"],so={key:0},no=["textContent"],lo={class:"d-flex flex-wrap justify-content-center py-3 px-2",style:{gap:"0.7rem",position:"sticky",top:"100%"}},ao=e("ion-icon",{name:"person-outline",class:"me-2"},null,-1),io=["textContent"],ro=e("ion-icon",{name:"bookmark-outline",class:"me-2"},null,-1),co=["textContent"],uo={class:"overlay-actions"},po=["onClick"],mo=e("ion-icon",{name:"eye-outline"},null,-1),_o=[mo],ho=["onClick"],vo=e("ion-icon",{name:"create-outline"},null,-1),bo=[vo],fo=["onClick"],$o=e("ion-icon",{name:"trash-outline"},null,-1),yo=[$o],Co={key:4,class:"is-proccessing"},xo=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),go=[xo],wo={class:"p-5 px-4"},ko={class:"row"},Vo={class:"d-flex flex-wrap list-unstyled"},To=["onClick"],So=["textContent"],Uo={class:"mt-3"},Ao=["disabled"],Po={__name:"RadiosComponent",setup(F){const a=K("trans"),{radios:i,getRadios:y,getRadio:b,storeRadio:w,radioForm:o,destroyRadio:m}=qt(),{students:c,getStudents:S}=W(),{teachers:x,getTeachers:D}=Q(),T=async()=>{await w(),o.value.response.status==200&&!o.value.update&&(o.value.show=!1)},f=async n=>{if(i.value.isProccessing=!0,n=await b(n.id),i.value.isProccessing=!1,!n)return;i.value.list=i.value.list.map(h=>h.id==n.id?n:h),o.value.show=!0;const s=n.students.map(h=>h.id);o.value.data={name:n.name,class:n.class,radio_date:n.radioDate,teacher_id:n.teacher.id,students:s},o.value.update=n},U=()=>{o.value.show=!1,o.value.errors=[]};Z(()=>{o.value.show||(o.value.response=null,o.value.errors=[],o.value.update&&(o.value.data=o.value.defaultData,o.value.update=null))});const g=X(()=>{const n={...c.value.list};return Object.keys(n).forEach(s=>{o.value.data.students.includes(parseInt(s))&&delete n[s]}),n}),A=n=>{confirm(a("Do you really want to delete this record?"))&&m(n)};y();const E=n=>{o.value.data.students=[...o.value.data.students,parseInt(n)]},u=n=>{confirm(a("Do you really want to delete this record?"))&&(o.value.data.students=o.value.data.students.filter(s=>s!=n))};return c.value.data_type="select",S(),x.value.data_type="select",D(),(n,s)=>(r(),d(V,null,[e("div",Nt,[e("div",Rt,[e("div",Ot,[e("h6",jt,[It,L(),e("span",{textContent:l(t(a)("School Radio"))},null,8,Bt)]),Gt,e("a",{href:"javascript:;",class:"action-box",onClick:s[0]||(s[0]=h=>t(o).show=!t(o).show)},[Ht,e("p",{class:"p5 mb-0",textContent:l(t(a)("Create your school radio"))},null,8,Kt)])])]),t(i).response?t(i).response.status!=200?(r(),d("div",{key:1,class:"text-center text-danger",textContent:l(t(i).response.data.message||t(i).response.statusText)},null,8,Wt)):t(i).list.length==0?(r(),d("div",Qt,l(t(a)("No Data")),1)):(r(!0),d(V,{key:3},N(t(i).list,h=>(r(),d("div",Xt,[e("div",Yt,[e("div",eo,[e("div",to,[e("span",{textContent:l(h.radioDateFormated)},null,8,oo)]),h.students?(r(),d("div",so,[e("b",{textContent:l(t(a)("Participating students")+": ")},null,8,no),L(" "+l(h.students.map(_=>_.name).join(", ")),1)])):P("",!0)]),e("div",lo,[e("div",null,[ao,e("span",{textContent:l(h.teacher.name)},null,8,io)]),e("div",null,[ro,e("span",{textContent:l(t(a)("Class")+" "+h.class)},null,8,co)])]),e("div",uo,[e("button",{type:"button",class:"button secondary-button me-2",onClick:_=>f(h)},_o,8,po),e("button",{type:"button",class:"primary-button me-2",onClick:_=>f(h)},bo,8,ho),e("button",{type:"button",onClick:_=>A(h),class:"button button-red"},yo,8,fo)])])]))),256)):(r(),d("div",Zt,Jt)),t(i).isProccessing&&t(i).response?(r(),d("div",Co,go)):P("",!0)]),t(i).list.length?(r(),q(B,{key:0,meta:t(i).response.data.meta,onUpdateList:t(y)},null,8,["meta","onUpdateList"])):P("",!0),t(o).show?(r(),q(O,{key:1,onCloseModal:s[6]||(s[6]=h=>U()),class:R({"w-800px":!0})},{default:k(()=>[e("div",wo,[e("form",{onSubmit:s[5]||(s[5]=j(h=>T(),["prevent"]))},[e("div",ko,[v(C,{class:"col-md-6",type:"date",errors:t(o).errors.radio_date,label:'<ion-icon name="calendar"></ion-icon>',placeholder:"Radio date",modelValue:t(o).data.radio_date,"onUpdate:modelValue":s[1]||(s[1]=h=>t(o).data.radio_date=h),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-6",errors:t(o).errors.class,label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Class",modelValue:t(o).data.class,"onUpdate:modelValue":s[2]||(s[2]=h=>t(o).data.class=h),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-12",type:"select",searchable:!0,label:'<ion-icon name="person"></ion-icon>',placeholder:"Class leader",errors:t(o).errors.teacher_id,modelValue:t(o).data.teacher_id,"onUpdate:modelValue":s[3]||(s[3]=h=>t(o).data.teacher_id=h),options:t(x).list,required:!0},null,8,["errors","modelValue","options"]),v(C,{class:"col-md-12",type:"select",isModel:!1,searchable:!0,label:'<ion-icon name="school"></ion-icon>',placeholder:"Participating students",errors:t(o).errors.students,onOnChange:E,options:g.value,required:!0},null,8,["errors","options"]),e("ul",Vo,[(r(!0),d(V,null,N(t(o).data.students,h=>(r(),d("li",{onClick:_=>u(h),class:"bg-light p-2 me-2 mb-2 rounded-16"},[e("span",{textContent:l(t(c).list[h]||t(a)("Unknown"))},null,8,So)],8,To))),256))])]),e("div",Uo,[e("button",{type:"submit",class:"primary-button",disabled:t(o).processing},l(t(o).processing?t(a)("Please wait"):t(o).update?t(a)("Update"):t(a)("Save")),9,Ao),e("button",{type:"button",class:"secondary-button ms-2",onClick:s[4]||(s[4]=h=>U())},l(t(a)("Close")),1)])],32)])]),_:1})):P("",!0)],64))}};function Fo(){const{callApi:F,fetchAll:a,fetchOne:i,makeFetchAllRef:y,makeFormRef:b,storeForm:w}=G(),o=`${window._app.url}/activities`,m=y(),c=async(f=null)=>{await a(f??o,m)},S=async f=>await i(`${o}/${f}`),x=b({students:{}},o);return{activities:m,getActivities:c,getActivity:S,activityForm:x,storeActivity:async()=>{await w(x,m)},destroyActivity:f=>{m.value.list=m.value.list.filter(U=>U!=f),F({url:o+"/"+f.id,method:"POST",data:{_method:"DELETE"}})},pageUrl:o}}const Do={class:"bg-white border rounded-16 p-4"},Eo={class:"d-flex flex-wrap justify-content-between"},Mo=["textContent"],Lo=["placeholder"],qo={class:"text-end"},No=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),Ro={key:0,class:"text-center"},Oo=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),jo=[Oo],Io=["textContent"],Bo={key:2,class:"text-center"},Go={class:"col-12 mb-5"},Ho={class:"activity-box"},Ko={class:"bg-image me-2"},Zo={class:"bg-image-holder"},zo=["src","alt"],Jo={class:"activity-info"},Wo={class:"h9 activity-title mb-1 me-2 d-inline"},Qo=["textContent"],Xo=["textContent"],Yo=e("ion-icon",{name:"people-outline",class:"me-2"},null,-1),es={class:"d-flex flex-wrap",style:{gap:"0.7rem"}},ts=e("ion-icon",{name:"person-outline",class:"me-2"},null,-1),os=["textContent"],ss=e("ion-icon",{name:"bookmark-outline",class:"me-2"},null,-1),ns=["textContent"],ls={class:"actions mt-3"},as=["onClick"],is=["onClick"],rs=e("ion-icon",{name:"create-outline"},null,-1),ds=[rs],cs=["onClick"],us=e("ion-icon",{name:"trash-outline"},null,-1),ps=[us],ms={key:4,class:"is-proccessing"},_s=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),hs=[_s],vs={class:"p-5 px-4"},bs={class:"row"},fs={class:"mb-3 col-12"},$s={class:"image_"},ys={class:"image_-holder"},Cs={key:0,class:"img_replacer"},xs={class:"iconsax","icon-name":"picture-no-square"},gs={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{width:"54px",height:"54px"},xmlns:"http://www.w3.org/2000/svg"},ws=e("path",{d:"M21.6799 16.9599L18.5499 9.64988C17.4899 7.16988 15.5399 7.06988 14.2299 9.42988L12.3399 12.8399C11.3799 14.5699 9.58993 14.7199 8.34993 13.1699L8.12993 12.8899C6.83993 11.2699 5.01993 11.4699 4.08993 13.3199L2.36993 16.7699C1.15993 19.1699 2.90993 21.9999 5.58993 21.9999H18.3499C20.9499 21.9999 22.6999 19.3499 21.6799 16.9599Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"#667080",style:{fill:"#667080",stroke:"#667080"}},null,-1),ks=e("path",{d:"M6.96997 8C8.62682 8 9.96997 6.65685 9.96997 5C9.96997 3.34315 8.62682 2 6.96997 2C5.31312 2 3.96997 3.34315 3.96997 5C3.96997 6.65685 5.31312 8 6.96997 8Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",style:{fill:"#667080",stroke:"#667080"}},null,-1),Vs=[ws,ks],Ts=["src"],Ss={key:0,class:"invalid-feedback"},Us=["textContent"],As={class:"list-unstyled"},Ps={class:"row mx-0"},Fs={class:"mt-3"},Ds=["disabled"],Es={__name:"ActivitiesComponent",setup(F){const a=K("trans"),{activities:i,getActivities:y,getActivity:b,storeActivity:w,activityForm:o,destroyActivity:m}=Fo(),{students:c,getStudents:S}=W(),{teachers:x,getTeachers:D}=Q(),T=async()=>{await w(),o.value.response.status==200&&!o.value.update&&(o.value.show=!1,E.value=null)},f=async _=>{if(i.value.isProccessing=!0,_=await b(_.id),i.value.isProccessing=!1,!_)return;i.value.list=i.value.list.map(p=>p.id==_.id?_:p),o.value.show=!0;const $=_.students.map(p=>({student_id:p.id,post_title:p.pivot.post_title}));o.value.data={name:_.name,class:_.class,activity_date:_.activityDate,teacher_id:_.teacher.id,students:$,bg_image:_.bgImage.path},E.value=_.bgImage,o.value.update=_},U=()=>{o.value.show=!1,o.value.errors=[],E.value=null};Z(()=>{o.value.show||(o.value.response=null,o.value.errors=[],o.value.update&&(o.value.data=o.value.defaultData,o.value.update=null))});const g=X(()=>{const _={...c.value.list};return Object.keys(_).forEach($=>{o.value.data.students.hasOwnProperty(parseInt($))&&delete _[$]}),_}),A=_=>{confirm(a("Do you really want to delete this record?"))&&m(_)},E=H(null),u=_=>{E.value=_};y();const n=_=>{o.value.data.students[_]={student_id:_,post_title:""}};c.value.data_type="select",S(),x.value.data_type="select",D();const s=H(null),h=_=>{s.value&&clearTimeout(s.value),i.value.search=_.target.value,s.value=setTimeout(()=>{y()},600)};return(_,$)=>(r(),d(V,null,[e("div",Do,[e("div",null,[e("div",Eo,[e("h6",{class:"h7",textContent:l(t(a)("Activities"))},null,8,Mo),e("input",{type:"text",class:"form-control mb-2",style:{"max-width":"300px"},placeholder:t(a)("Search"),onKeyup:$[0]||($[0]=p=>h(p))},null,40,Lo),e("div",qo,[e("button",{class:"primary-button",onClick:$[1]||($[1]=p=>t(o).show=!t(o).show)},l(t(a)("Add activity")),1)])]),No]),t(i).response?t(i).response.status!=200?(r(),d("div",{key:1,class:"text-center text-danger",textContent:l(t(i).response.data.message||t(i).response.statusText)},null,8,Io)):t(i).list.length==0?(r(),d("div",Bo,l(t(a)("No Data")),1)):(r(!0),d(V,{key:3},N(t(i).list,p=>(r(),d("div",Go,[e("div",Ho,[e("div",Ko,[e("div",Zo,[e("img",{src:p.bgImage.pathUrl,alt:p.name},null,8,zo)])]),e("div",Jo,[e("div",null,[e("h6",Wo,[e("span",{textContent:l(p.name)},null,8,Qo)]),e("small",{class:"text-secondary",textContent:l(p.activityDateFormated)},null,8,Xo)]),e("div",null,[Yo,L(" "+l(p.students.map(I=>I.name).join(", ")),1)]),e("div",es,[e("div",null,[ts,e("span",{textContent:l(p.teacher.name)},null,8,os)]),e("div",null,[ss,e("span",{textContent:l(t(a)("Class")+" "+p.class)},null,8,ns)])]),e("div",ls,[e("button",{type:"button",class:"secondary-button me-1",onClick:I=>f(p)},"عرض التفاصيل",8,as),e("button",{type:"button",class:"primary-button me-1",onClick:I=>f(p)},ds,8,is),e("button",{type:"button",onClick:I=>A(p),class:"button button-red"},ps,8,cs)])])])]))),256)):(r(),d("div",Ro,jo)),t(i).isProccessing&&t(i).response?(r(),d("div",ms,hs)):P("",!0)]),t(i).list.length?(r(),q(B,{key:0,meta:t(i).response.data.meta,onUpdateList:t(y)},null,8,["meta","onUpdateList"])):P("",!0),t(o).show?(r(),q(O,{key:1,onCloseModal:$[9]||($[9]=p=>U()),class:R({"w-800px":!0})},{default:k(()=>[e("div",vs,[e("form",{onSubmit:$[8]||($[8]=j(p=>T(),["prevent"]))},[e("div",bs,[e("div",fs,[v(C,{errors:t(o).errors.bg_image,path:"activity-bgs",type:"file",modelValue:t(o).data.bg_image,"onUpdate:modelValue":$[2]||($[2]=p=>t(o).data.bg_image=p),onOnFileUpload:u,help:t(a)("ضع صورة لغلاف النشاط")},{customLabel:k(()=>[e("div",$s,[e("div",ys,[E.value?(r(),d("img",{key:1,src:E.value.pathUrl},null,8,Ts)):(r(),d("div",Cs,[e("i",xs,[(r(),d("svg",gs,Vs))])]))])])]),_:1},8,["errors","modelValue","help"]),t(o).errors.bg_image?(r(),d("ul",Ss,[(r(!0),d(V,null,N(t(o).errors.bg_image,p=>(r(),d("li",{textContent:l(p)},null,8,Us))),256))])):P("",!0)]),v(C,{class:"col-md-12",errors:t(o).errors.name,label:'<ion-icon name="activity"></ion-icon>',placeholder:"Activity name",modelValue:t(o).data.name,"onUpdate:modelValue":$[3]||($[3]=p=>t(o).data.name=p),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-6",type:"date",errors:t(o).errors.activity_date,label:'<ion-icon name="calendar"></ion-icon>',placeholder:"Activity date",modelValue:t(o).data.activity_date,"onUpdate:modelValue":$[4]||($[4]=p=>t(o).data.activity_date=p),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-6",errors:t(o).errors.class,label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Class",modelValue:t(o).data.class,"onUpdate:modelValue":$[5]||($[5]=p=>t(o).data.class=p),required:!0},null,8,["errors","modelValue"]),v(C,{class:"col-md-12",type:"select",searchable:!0,label:'<ion-icon name="person"></ion-icon>',placeholder:"Activity leader",errors:t(o).errors.teacher_id,modelValue:t(o).data.teacher_id,"onUpdate:modelValue":$[6]||($[6]=p=>t(o).data.teacher_id=p),options:t(x).list,required:!0},null,8,["errors","modelValue","options"]),v(C,{class:"col-md-12",type:"select",isModel:!1,searchable:!0,label:'<ion-icon name="school"></ion-icon>',placeholder:"Participating students",errors:t(o).errors.students,onOnChange:n,options:g.value,required:!0},null,8,["errors","options"]),e("ul",As,[(r(!0),d(V,null,N(t(o).data.students,(p,I)=>(r(),d("li",null,[e("div",Ps,[v(C,{class:"col-md-6",label:'<ion-icon name="person"></ion-icon>',readonly:!0,modelValue:t(c).list[p.student_id]},null,8,["modelValue"]),v(C,{class:"col-md-6",label:'<ion-icon name="person"></ion-icon>',placeholder:"Post title",modelValue:p.post_title,"onUpdate:modelValue":ee=>p.post_title=ee},null,8,["modelValue","onUpdate:modelValue"])])]))),256))])]),e("div",Fs,[e("button",{type:"submit",class:"primary-button",disabled:t(o).processing},l(t(o).processing?t(a)("Please wait"):t(o).update?t(a)("Update"):t(a)("Save")),9,Ds),e("button",{type:"button",class:"secondary-button ms-2",onClick:$[7]||($[7]=p=>U())},l(t(a)("Close")),1)])],32)])]),_:1})):P("",!0)],64))}},Ms={class:"d-flex flex-wrap justify-content-between"},Ls=["textContent"],qs=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),Ns={key:0,class:"text-center"},Rs=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Os=[Rs],js=["textContent"],Is={key:2,class:"text-center"},Bs=e("th",null,"#",-1),Gs={scope:"col"},Hs={scope:"col"},Ks={scope:"col"},Zs={scope:"col"},zs={scope:"col"},Js={scope:"col"},Ws=["textContent"],Qs=["textContent"],Xs=["textContent"],Ys=["textContent"],en=["textContent"],tn=["textContent"],on={key:4,class:"is-proccessing"},sn=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),nn=[sn],ln={__name:"SubscriptionPaymentsComponent",setup(F){const{makeFetchAllRef:a,fetchAll:i}=G(),y=`${window._app.url}/subscription/payment_history`,b=a(),w=async(o=null)=>{await i(o??y,b)};return w(),(o,m)=>(r(),q(z,null,{header:k(()=>[e("div",Ms,[e("h6",{class:"h7",textContent:l(o.trans("Payments history"))},null,8,Ls)]),qs]),default:k(()=>[e("div",null,[t(b).response?t(b).response.status!=200?(r(),d("div",{key:1,class:"text-center text-danger",textContent:l(t(b).response.data.message||t(b).response.statusText)},null,8,js)):t(b).list.length==0?(r(),d("div",Is,l(o.trans("No Data")),1)):(r(),d(V,{key:3},[v(J,null,{thead:k(()=>[e("tr",null,[Bs,e("th",Gs,l(o.trans("Plan name")),1),e("th",Hs,l(o.trans("Payment method")),1),e("th",Ks,l(o.trans("Period")),1),e("th",Zs,l(o.trans("Amount")),1),e("th",zs,l(o.trans("Payment status")),1),e("th",Js,l(o.trans("Comment")),1)])]),default:k(()=>[(r(!0),d(V,null,N(t(b).list,c=>(r(),d("tr",null,[e("td",{scope:"row",textContent:l(c.id)},null,8,Ws),e("td",{textContent:l(o.trans(c.plan.name))},null,8,Qs),e("td",{textContent:l(c.paymentMethodText)},null,8,Xs),e("td",{textContent:l(c.subscriptionPeriodText)},null,8,Ys),e("td",null,l(c.amount+" "+o.trans(c.currencyText)),1),e("td",null,[e("span",{class:R(["badge","bg-"+c.status]),textContent:l(o.trans(c.statusText))},null,10,en)]),e("td",{style:{"white-space":"pre-wrap"},textContent:l(c.comment??"/")},null,8,tn)]))),256))]),_:1}),v(B,{meta:t(b).response.data.meta,onUpdateList:w},null,8,["meta"])],64)):(r(),d("div",Ns,Os)),t(b).isProccessing&&t(b).response?(r(),d("div",on,nn)):P("",!0)])]),_:1}))}},M=ne({});M.component("students-component",Qe);M.component("teachers-component",Lt);M.component("radios-component",Po);M.component("activities-component",Es);M.component("subscription-payments-component",ln);M.component("chartjs-component",te);M.component("navbar-notifications-component",oe);M.component("notifications-component",se);M.provide("trans",Y.translate);M.config.globalProperties.trans=Y.translate;M.config.compilerOptions.isCustomElement=F=>F.startsWith("ion-icon");M.mount("#app");
