import{_ as W,M as X,a as H,b as le,c as ne,d as ae}from"./NotificationsComponent-48dd9921.js";import{C as N,_ as ie,H as Y,r as I,o as re,j as l,m as i,l as e,q as J,I as Z,J as de,b as ce,n as ue,K as t,t as U,v as B,s as P,F as S,x as s,y as me,z as pe,A as F,B as he,L as z,k as g,i as D,g as E,e as oe,E as _e,G as se}from"./common-00698841.js";function Q(){const{callApi:d,fetchAll:n,fetchOne:r,makeFetchAllRef:y,makeFormRef:C,storeForm:T}=N(),o=`${window._app.url}/students`,v=y(),b=async(_=null)=>{await n(_??o,v)},A=async _=>await r(`${o}/${_}`),w=C({profile:{}},o);return{students:v,getStudents:b,getStudent:A,studentForm:w,storeStudent:async()=>{await T(w,v)},destroyStudent:_=>{v.value.list=v.value.list.filter(p=>p!=_),d({url:o+"/"+_.id,method:"POST",data:{_method:"DELETE"}})},pageUrl:o}}const ve={class:"modal-container"},fe={class:"modal-content"},ye={__name:"MainModalComponent",emits:["closeModal"],setup(d,{emit:n}){const r=Y("trans"),y=n,C=I(!1),T=()=>{(!C.value||confirm(r("Are you sure that you want to close this modal?")))&&y("closeModal")};return re(()=>{C.value=!0}),(o,v)=>(l(),i("div",{class:"custom-modal",onClick:Z(T,["self"])},[e("div",ve,[e("div",{class:"close-modal",onClick:T},"x"),e("div",fe,[J(o.$slots,"default",{},void 0,!0)])])]))}},K=ie(ye,[["__scopeId","data-v-093a6749"]]),be={class:"form-input mb-3"},$e={key:0},Ce=["innerHTML"],ge={key:0,class:"text-danger"},xe=["type","value","placeholder","readonly","required"],ke=["placeholder","readonly","required"],we=["value","required"],Ve=["textContent"],Se={key:0,class:"custom-select-dropdown"},Te={class:"custom-select-search"},Ue=["placeholder"],Me={class:"custom-select-options"},Ae=["onClick","textContent"],De=["type","rows","cols","placeholder","required","textContent"],qe=["multiple","placeholder","required"],Le={class:"file-upload-progress"},Pe=["onClick"],Fe=e("ion-icon",{name:"attach-outline"},null,-1),Re=["textContent"],Oe={key:8,class:"invalid-feedback"},je=["textContent"],V={__name:"InputComponent",props:{type:{type:String,default:"text"},label:String|null,placeholder:String|null,errors:Array|Object|null,modelValue:{type:[Number,String],default:null,required:!1},required:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rows:{default:!1},cols:{default:!1},isModel:{type:Boolean,default:!0},path:{type:String,default:null},multiple:{type:Boolean,default:!1},help:{type:String,default:null},searchable:{type:Boolean,default:!1},options:{type:Object,default:{}}},emits:["onFileUpload","onChange","update:modelValue"],setup(d,{emit:n}){const r=n,y=Y("trans"),C=de(),{callApi:T}=N(),o=d,v=I(!1),b=I("");let A,w,q=!1;const M=I({}),_="input_"+Math.random().toString(36).substr(2,9),p=async(a,f,x,j=!1)=>{let O;if(j)O=a;else{let h=a.files;for(let L=0;L<h.length;L++)p(h[L],f,o.multiple,!0);return}if(!O)return;q==!0&&o.multiple==!1&&(await w.cancel("File changed."),q=!1),q=!0,A=axios.CancelToken,w=A.source();const k=w,m=new Date().getTime()+Math.random()*999,c=await T({url:"/upload",method:"POST",data:{file:O,path:f},headers:{"Content-Type":"multipart/form-data"},config:{cancelToken:w.token,onUploadProgress:h=>{const{loaded:L,total:G}=h;let te=Math.floor(L*100/G);te<100&&(M.value[m]={loaded:L,total:G,percent:te,source:k,fileInfo:O})}}});delete M.value[m],typeof c<"u"&&(q=!1,c.status==200&&(r("onFileUpload",c.data),r("update:modelValue",c.data.path)))},u=I(null);return ce(async()=>{if(o.type=="date"){await ue();const a=$(u.value);a.hijriDatePicker({hijri:!0,locale:$("html").attr("lang")=="ar"?"ar-SA":"en-US",defaultDate:o.modelValue,format:"YYYY-MM-DD",hijriFormat:"iYYYY-iMM-iDD",timeZone:"Asia/Riyadh",isRTL:$("body").hasClass("rtl"),ignoreReadonly:!0,showClear:!0,showTodayButton:!0}),a.on("dp.change",f=>{let x="";f.date&&(x=f.date.format("YYYY-MM-DD")),r("update:modelValue",x)}),a.on("dp.update",f=>{console.log("gg")})}}),(a,f)=>(l(),i("div",be,[t(C).customLabel?(l(),i("div",$e,[e("label",{for:_,class:"d-block"},[J(a.$slots,"customLabel")])])):U("",!0),d.label&&!t(C).customLabel?(l(),i("label",{key:1,for:_,class:"label_",onClick:f[0]||(f[0]=x=>v.value=!v.value)},[e("span",{innerHTML:t(y)(d.label)},null,8,Ce),B(),d.required?(l(),i("span",ge,"*")):U("",!0)])):U("",!0),["text","email","password"].includes(d.type)?(l(),i("input",{key:2,type:d.type,class:P(["input_",{"is-invalid":d.errors}]),value:d.modelValue,onInput:f[1]||(f[1]=x=>a.$emit("update:modelValue",x.target.value)),placeholder:t(y)(d.placeholder||d.label),id:_,readonly:d.readonly,required:d.required},null,42,xe)):d.type=="date"?(l(),i("input",{key:3,type:"text",class:P(["input_ datepicker_input",{"is-invalid":d.errors}]),readonly:"",placeholder:t(y)(d.placeholder||d.label),id:_,required:d.required,ref_key:"datepickerRef",ref:u},null,10,ke)):d.type=="select"?(l(),i(S,{key:4},[d.searchable?(l(),i("div",{key:1,class:P({"custom-select":!0,"is-invalid":d.errors}),onClickout:f[5]||(f[5]=x=>v.value=!1)},[e("div",{class:"custom-select-selected form-control",onClick:f[3]||(f[3]=x=>v.value=!v.value)},s(d.options[d.modelValue]||t(y)(d.placeholder||d.label)+"..."),1),v.value?(l(),i("div",Se,[e("div",Te,[me(e("input",{type:"text",placeholder:t(y)("Search"),"onUpdate:modelValue":f[4]||(f[4]=x=>b.value=x)},null,8,Ue),[[pe,b.value]])]),e("div",Me,[(l(!0),i(S,null,F(d.options,(x,j)=>(l(),i("div",{class:P({"custom-select-option":!0,selected:d.modelValue==j,hide:b.value&&!x.toLowerCase().includes(b.value.toLowerCase())}),onClick:O=>{d.isModel?a.$emit("update:modelValue",j):a.$emit("onChange",j),v.value=!1},textContent:s(x)},null,10,Ae))),256))])])):U("",!0)],34)):(l(),i("select",{key:0,class:P(["form-select form-control",{"is-invalid":d.errors}]),value:d.modelValue,onChange:f[2]||(f[2]=x=>d.isModel?a.$emit("update:modelValue",x.target.value):a.$emit("onChange",x.target.value)),required:d.required},[e("option",{value:"",textContent:s(t(y)(d.placeholder||d.label)+"...")},null,8,Ve),J(a.$slots,"default")],42,we))],64)):U("",!0),d.type=="textarea"?(l(),i("textarea",{key:5,type:d.type,class:P(["form-control",{"is-invalid":d.errors}]),rows:d.rows,cols:d.cols,onInput:f[6]||(f[6]=x=>a.$emit("update:modelValue",x.target.value)),placeholder:t(y)(d.placeholder||d.label),required:d.required,textContent:s(d.modelValue)},null,42,De)):d.type=="file"?(l(),i(S,{key:6},[e("input",{type:"file",class:P({"form-control":!0,"is-invalid":d.errors,"d-none":t(C).customLabel}),multiple:d.multiple,onChange:f[7]||(f[7]=x=>p(x.target,d.path)),placeholder:t(y)(d.placeholder||d.label),required:d.required,id:_},null,42,qe),(l(!0),i(S,null,F(M.value,x=>(l(),i("div",Le,[e("a",{onClick:j=>x.source.cancel("Canceled by user"),href:"javascript:;",class:"text-danger"},"X",8,Pe),Fe,e("span",null,"("+s(x.percent)+"%) "+s(x.fileInfo.name),1),e("div",{class:"progress",style:he({width:x.percent+"%"})},null,4)]))),256))],64)):U("",!0),d.help?(l(),i("small",{key:7,class:"form-text text-muted",textContent:s(d.help)},null,8,Re)):U("",!0),d.errors?(l(),i("ul",Oe,[(l(!0),i(S,null,F(d.errors,x=>(l(),i("li",{textContent:s(x)},null,8,je))),256))])):U("",!0)]))}},Ie={class:"d-flex flex-wrap justify-content-between"},Be=["textContent"],Ee=["placeholder"],Ne={class:"text-end"},Ye=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),He={key:0,class:"text-center"},Ze=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Ge=[Ze],ze=["textContent"],Ke={key:2,class:"text-center"},Je=e("th",null,"#",-1),We=["textContent"],Xe=["textContent"],Qe=["href","textContent"],et=["textContent"],tt=["href","textContent"],ot=["href","textContent"],st=["textContent"],lt=["textContent"],nt=["textContent"],at={class:"d-flex"},it=["onClick"],rt=e("ion-icon",{name:"create-outline"},null,-1),dt=[rt],ct=["onClick"],ut=e("ion-icon",{name:"trash-outline"},null,-1),mt=[ut],pt={key:4,class:"is-proccessing"},ht=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),_t=[ht],vt={class:"p-5 px-4"},ft=["textContent"],yt={class:"row"},bt=["textContent"],$t={class:"row"},Ct={class:"mt-3"},gt=["disabled"],xt={__name:"StudentsComponent",setup(d){const n=Y("trans"),{students:r,getStudents:y,getStudent:C,storeStudent:T,studentForm:o,destroyStudent:v}=Q(),b=async()=>{await T(),o.value.response.status==200&&!o.value.update&&(o.value.show=!1)},A=async p=>{r.value.isProccessing=!0,p=await C(p.id),r.value.isProccessing=!1,p&&(r.value.list=r.value.list.map(u=>u.id==p.id?p:u),o.value.show=!0,o.value.data={name:p.name,email:p.email,phone:p.phone,mobile:p.mobile,profile:{parent_name:p.profile.parentName,level:p.profile.level,class:p.profile.class,division:p.profile.division}},o.value.update=p)},w=()=>{o.value.show=!1,o.value.errors=[]};z(()=>{o.value.show||(o.value.response=null,o.value.errors=[],o.value.update&&(o.value.data=o.value.defaultData,o.value.update=null))});const q=p=>{confirm(n("Do you really want to delete this record?"))&&v(p)};y();const M=I(null),_=p=>{M.value&&clearTimeout(M.value),r.value.search=p.target.value,M.value=setTimeout(()=>{y()},600)};return(p,u)=>(l(),i(S,null,[g(W,null,{header:D(()=>[e("div",Ie,[e("h6",{class:"h7",textContent:s(t(n)("Students"))},null,8,Be),e("input",{type:"text",class:"form-control",style:{"max-width":"300px"},placeholder:t(n)("Search"),onKeyup:u[0]||(u[0]=a=>_(a))},null,40,Ee),e("div",Ne,[e("button",{class:"primary-button",onClick:u[1]||(u[1]=a=>t(o).show=!t(o).show)},s(t(n)("Add new student")),1)])]),Ye]),default:D(()=>[e("div",null,[t(r).response?t(r).response.status!=200?(l(),i("div",{key:1,class:"text-center text-danger",textContent:s(t(r).response.data.message||t(r).response.statusText)},null,8,ze)):t(r).list.length==0?(l(),i("div",Ke,s(t(n)("No Data")),1)):(l(),i(S,{key:3},[g(X,null,{thead:D(()=>[e("tr",null,[Je,e("th",null,s(t(n)("Student name")),1),e("th",null,s(t(n)("Official email")),1),e("th",null,s(t(n)("Guardian name")),1),e("th",null,s(t(n)("Guardian phone")),1),e("th",null,s(t(n)("Guardian mobile")),1),e("th",null,s(t(n)("Level")),1),e("th",null,s(t(n)("Class")),1),e("th",null,s(t(n)("Division")),1),e("th",null,s(t(n)("Operations")),1)])]),default:D(()=>[(l(!0),i(S,null,F(t(r).list,a=>(l(),i("tr",null,[e("td",{scope:"row",textContent:s(a.id)},null,8,We),e("td",{textContent:s(a.name)},null,8,Xe),e("td",null,[e("a",{href:"mailto:"+a.email,textContent:s(a.email)},null,8,Qe)]),e("td",{textContent:s(a.profile.parentName)},null,8,et),e("td",null,[a.phone?(l(),i("a",{key:0,href:"tel:"+a.phone,textContent:s(a.phone),dir:"ltr"},null,8,tt)):(l(),i(S,{key:1},[B(s(t(n)("Not included")),1)],64))]),e("td",null,[a.mobile?(l(),i("a",{key:0,href:"tel:"+a.mobile,textContent:s(a.mobile),dir:"ltr"},null,8,ot)):(l(),i(S,{key:1},[B(s(t(n)("Not included")),1)],64))]),e("td",{textContent:s(a.profile.level)},null,8,st),e("td",{textContent:s(a.profile.class)},null,8,lt),e("td",{textContent:s(a.profile.division)},null,8,nt),e("td",at,[e("button",{type:"button",class:"primary-button p-0 px-2 me-2",onClick:f=>A(a)},dt,8,it),e("button",{type:"button",onClick:f=>q(a),class:"button button-red p-0 px-2"},mt,8,ct)])]))),256))]),_:1}),g(H,{meta:t(r).response.data.meta,onUpdateList:t(y)},null,8,["meta","onUpdateList"])],64)):(l(),i("div",He,Ge)),t(r).isProccessing&&t(r).response?(l(),i("div",pt,_t)):U("",!0)])]),_:1}),t(o).show?(l(),E(K,{key:0,onCloseModal:u[12]||(u[12]=a=>w()),class:P({"w-1000px":!0})},{default:D(()=>[e("div",vt,[e("form",{onSubmit:u[11]||(u[11]=Z(a=>b(),["prevent"]))},[e("h6",{class:"h9 border-bottom pb-3 mb-4",textContent:s(t(n)("Student information"))},null,8,ft),e("div",yt,[g(V,{class:"col-md-6",errors:t(o).errors.name,label:'<ion-icon name="person"></ion-icon>',placeholder:"Student name",modelValue:t(o).data.name,"onUpdate:modelValue":u[2]||(u[2]=a=>t(o).data.name=a),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",type:"email",errors:t(o).errors.email,label:'<ion-icon name="mail"></ion-icon>',placeholder:"Official email",modelValue:t(o).data.email,"onUpdate:modelValue":u[3]||(u[3]=a=>t(o).data.email=a),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",type:"select",searchable:!0,label:'<ion-icon name="school"></ion-icon>',placeholder:"Level",errors:t(o).errors["profile.level"],modelValue:t(o).data.profile.level,"onUpdate:modelValue":u[4]||(u[4]=a=>t(o).data.profile.level=a),options:{primary:t(n)("Primary"),middle:t(n)("Middle"),secondary:t(n)("Secondary")},required:!0},null,8,["errors","modelValue","options"]),g(V,{class:"col-md-6",errors:t(o).errors["profile.class"],label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Class",modelValue:t(o).data.profile.class,"onUpdate:modelValue":u[5]||(u[5]=a=>t(o).data.profile.class=a),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",errors:t(o).errors["profile.division"],label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Division",modelValue:t(o).data.profile.division,"onUpdate:modelValue":u[6]||(u[6]=a=>t(o).data.profile.division=a),required:!0},null,8,["errors","modelValue"])]),e("h6",{class:"h9 border-bottom pb-3 mb-4",textContent:s(t(n)("Guardian information"))},null,8,bt),e("div",$t,[g(V,{class:"col-md-6",errors:t(o).errors["profile.parent_name"],label:'<ion-icon name="person"></ion-icon>',placeholder:"Name",modelValue:t(o).data.profile.parent_name,"onUpdate:modelValue":u[7]||(u[7]=a=>t(o).data.profile.parent_name=a),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",errors:t(o).errors.phone,label:'<ion-icon name="call"></ion-icon>',placeholder:"Phone number",modelValue:t(o).data.phone,"onUpdate:modelValue":u[8]||(u[8]=a=>t(o).data.phone=a),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",errors:t(o).errors.mobile,label:'<ion-icon name="call"></ion-icon>',placeholder:"Mobile number",modelValue:t(o).data.mobile,"onUpdate:modelValue":u[9]||(u[9]=a=>t(o).data.mobile=a),required:!0},null,8,["errors","modelValue"])]),e("div",Ct,[e("button",{type:"submit",class:"primary-button",disabled:t(o).processing},s(t(o).processing?t(n)("Please wait"):t(o).update?t(n)("Update"):t(n)("Save")),9,gt),e("button",{type:"button",class:"secondary-button ms-2",onClick:u[10]||(u[10]=a=>w())},s(t(n)("Close")),1)])],32)])]),_:1})):U("",!0)],64))}};function ee(){const{callApi:d,fetchAll:n,fetchOne:r,makeFetchAllRef:y,makeFormRef:C,storeForm:T}=N(),o=`${window._app.url}/teachers`,v=y(),b=async(_=null)=>{await n(_??o,v)},A=async _=>await r(`${o}/${_}`),w=C({profile:{}},o);return{teachers:v,getTeachers:b,getTeacher:A,teacherForm:w,storeTeacher:async()=>{await T(w,v)},destroyTeacher:_=>{v.value.list=v.value.list.filter(p=>p!=_),d({url:o+"/"+_.id,method:"POST",data:{_method:"DELETE"}})},pageUrl:o}}const kt={class:"d-flex flex-wrap justify-content-between"},wt=["textContent"],Vt=["placeholder"],St={class:"text-end"},Tt=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),Ut={key:0,class:"text-center"},Mt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),At=[Mt],Dt=["textContent"],qt={key:2,class:"text-center"},Lt=e("th",null,"#",-1),Pt=["textContent"],Ft=["textContent"],Rt=["href","textContent"],Ot=["href","textContent"],jt={class:"d-flex"},It=["onClick"],Bt=e("ion-icon",{name:"create-outline"},null,-1),Et=[Bt],Nt=["onClick"],Yt=e("ion-icon",{name:"trash-outline"},null,-1),Ht=[Yt],Zt={key:4,class:"is-proccessing"},Gt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),zt=[Gt],Kt={class:"p-5 px-4"},Jt=["textContent"],Wt={class:"row"},Xt={class:"mt-3"},Qt=["disabled"],eo={__name:"TeachersComponent",setup(d){const n=Y("trans"),{teachers:r,getTeachers:y,getTeacher:C,storeTeacher:T,teacherForm:o,destroyTeacher:v}=ee(),b=async()=>{await T(),o.value.response.status==200&&!o.value.update&&(o.value.show=!1)},A=async p=>{r.value.isProccessing=!0,p=await C(p.id),r.value.isProccessing=!1,p&&(r.value.list=r.value.list.map(u=>u.id==p.id?p:u),o.value.show=!0,o.value.data={name:p.name,email:p.email,mobile:p.mobile},o.value.update=p)},w=()=>{o.value.show=!1,o.value.errors=[]};z(()=>{o.value.show||(o.value.response=null,o.value.errors=[],o.value.update&&(o.value.data=o.value.defaultData,o.value.update=null))});const q=p=>{confirm(n("Do you really want to delete this record?"))&&v(p)};y();const M=I(null),_=p=>{M.value&&clearTimeout(M.value),r.value.search=p.target.value,M.value=setTimeout(()=>{y()},600)};return(p,u)=>(l(),i(S,null,[g(W,null,{header:D(()=>[e("div",kt,[e("h6",{class:"h7",textContent:s(t(n)("Teachers"))},null,8,wt),e("input",{type:"text",class:"form-control",style:{"max-width":"300px"},placeholder:t(n)("Search"),onKeyup:u[0]||(u[0]=a=>_(a))},null,40,Vt),e("div",St,[e("button",{class:"primary-button",onClick:u[1]||(u[1]=a=>t(o).show=!t(o).show)},s(t(n)("Add new teacher")),1)])]),Tt]),default:D(()=>[e("div",null,[t(r).response?t(r).response.status!=200?(l(),i("div",{key:1,class:"text-center text-danger",textContent:s(t(r).response.data.message||t(r).response.statusText)},null,8,Dt)):t(r).list.length==0?(l(),i("div",qt,s(t(n)("No Data")),1)):(l(),i(S,{key:3},[g(X,null,{thead:D(()=>[e("tr",null,[Lt,e("th",null,s(t(n)("Teacher name")),1),e("th",null,s(t(n)("Official email")),1),e("th",null,s(t(n)("Mobile")),1),e("th",null,s(t(n)("Operations")),1)])]),default:D(()=>[(l(!0),i(S,null,F(t(r).list,a=>(l(),i("tr",null,[e("td",{scope:"row",textContent:s(a.id)},null,8,Pt),e("td",{textContent:s(a.name)},null,8,Ft),e("td",null,[e("a",{href:"mailto:"+a.email,textContent:s(a.email)},null,8,Rt)]),e("td",null,[a.mobile?(l(),i("a",{key:0,href:"tel:"+a.mobile,textContent:s(a.mobile),dir:"ltr"},null,8,Ot)):(l(),i(S,{key:1},[B(s(t(n)("Not included")),1)],64))]),e("td",jt,[e("button",{type:"button",class:"primary-button p-0 px-2 me-2",onClick:f=>A(a)},Et,8,It),e("button",{type:"button",onClick:f=>q(a),class:"button button-red p-0 px-2"},Ht,8,Nt)])]))),256))]),_:1}),g(H,{meta:t(r).response.data.meta,onUpdateList:t(y)},null,8,["meta","onUpdateList"])],64)):(l(),i("div",Ut,At)),t(r).isProccessing&&t(r).response?(l(),i("div",Zt,zt)):U("",!0)])]),_:1}),t(o).show?(l(),E(K,{key:0,onCloseModal:u[7]||(u[7]=a=>w()),class:P({"w-1000px":!0})},{default:D(()=>[e("div",Kt,[e("form",{onSubmit:u[6]||(u[6]=Z(a=>b(),["prevent"]))},[e("h6",{class:"h9 border-bottom pb-3 mb-4",textContent:s(t(n)("Teacher information"))},null,8,Jt),e("div",Wt,[g(V,{class:"col-md-6",errors:t(o).errors.name,label:'<ion-icon name="person"></ion-icon>',placeholder:"Teacher name",modelValue:t(o).data.name,"onUpdate:modelValue":u[2]||(u[2]=a=>t(o).data.name=a),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",type:"email",errors:t(o).errors.email,label:'<ion-icon name="mail"></ion-icon>',placeholder:"Official email",modelValue:t(o).data.email,"onUpdate:modelValue":u[3]||(u[3]=a=>t(o).data.email=a),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",errors:t(o).errors.mobile,label:'<ion-icon name="call"></ion-icon>',placeholder:"mobile number",modelValue:t(o).data.mobile,"onUpdate:modelValue":u[4]||(u[4]=a=>t(o).data.mobile=a),required:!0},null,8,["errors","modelValue"])]),e("div",Xt,[e("button",{type:"submit",class:"primary-button",disabled:t(o).processing},s(t(o).processing?t(n)("Please wait"):t(o).update?t(n)("Update"):t(n)("Save")),9,Qt),e("button",{type:"button",class:"secondary-button ms-2",onClick:u[5]||(u[5]=a=>w())},s(t(n)("Close")),1)])],32)])]),_:1})):U("",!0)],64))}};function to(){const{callApi:d,fetchAll:n,fetchOne:r,makeFetchAllRef:y,makeFormRef:C,storeForm:T}=N(),o=`${window._app.url}/radios`,v=y(),b=async(_=null)=>{await n(_??o,v)},A=async _=>await r(`${o}/${_}`),w=C({students:[]},o);return{radios:v,getRadios:b,getRadio:A,radioForm:w,storeRadio:async()=>{await T(w,v)},destroyRadio:_=>{v.value.list=v.value.list.filter(p=>p!=_),d({url:o+"/"+_.id,method:"POST",data:{_method:"DELETE"}})},pageUrl:o}}const oo={class:"row px-0 mx-0"},so={class:"col-md-4 mb-4"},lo={class:"bg-white border rounded-16 py-4 px-4 h-100"},no={class:"h7 mb-2"},ao=e("ion-icon",{name:"radio-outline"},null,-1),io=["textContent"],ro=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),co=e("div",{class:"action-box-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"56",height:"56",viewBox:"0 0 56 56",fill:"none"},[e("path",{d:"M49.875 28C49.875 28.6962 49.5984 29.3639 49.1062 29.8562C48.6139 30.3484 47.9462 30.625 47.25 30.625H30.625V47.25C30.625 47.9462 30.3484 48.6139 29.8562 49.1062C29.3639 49.5984 28.6962 49.875 28 49.875C27.3038 49.875 26.6361 49.5984 26.1438 49.1062C25.6516 48.6139 25.375 47.9462 25.375 47.25V30.625H8.75C8.05381 30.625 7.38613 30.3484 6.89384 29.8562C6.40156 29.3639 6.125 28.6962 6.125 28C6.125 27.3038 6.40156 26.6361 6.89384 26.1438C7.38613 25.6516 8.05381 25.375 8.75 25.375H25.375V8.75C25.375 8.05381 25.6516 7.38613 26.1438 6.89384C26.6361 6.40156 27.3038 6.125 28 6.125C28.6962 6.125 29.3639 6.40156 29.8562 6.89384C30.3484 7.38613 30.625 8.05381 30.625 8.75V25.375H47.25C47.9462 25.375 48.6139 25.6516 49.1062 26.1438C49.5984 26.6361 49.875 27.3038 49.875 28Z",fill:"#667080","fill-opacity":"0.1"})])],-1),uo=["textContent"],mo={key:0,class:"text-center"},po=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),ho=[po],_o=["textContent"],vo={key:2,class:"text-center"},fo={class:"col-md-4 mb-4"},yo={class:"radio-box bg-white border rounded-16 h-100 overlay-actions-parent"},bo={class:"bg-image"},$o={class:"bg-image-holder"},Co=["src","alt"],go={class:"radio-info px-4 pt-3"},xo={class:"h9 radio-title mb-1"},ko=e("ion-icon",{name:"radio-outline"},null,-1),wo=["textContent"],Vo={class:"mb-3 text-secondary"},So=["textContent"],To=["textContent"],Uo={class:"d-flex flex-wrap justify-content-center py-3 px-2",style:{gap:"0.7rem",position:"sticky",top:"100%"}},Mo=e("ion-icon",{name:"person-outline",class:"me-2"},null,-1),Ao=["textContent"],Do=e("ion-icon",{name:"bookmark-outline",class:"me-2"},null,-1),qo=["textContent"],Lo={class:"overlay-actions"},Po=["onClick"],Fo=e("ion-icon",{name:"eye-outline"},null,-1),Ro=[Fo],Oo=["onClick"],jo=e("ion-icon",{name:"create-outline"},null,-1),Io=[jo],Bo=["onClick"],Eo=e("ion-icon",{name:"trash-outline"},null,-1),No=[Eo],Yo={key:4,class:"is-proccessing"},Ho=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Zo=[Ho],Go={class:"p-5 px-4"},zo={class:"row"},Ko={class:"mb-3 col-12"},Jo={class:"image_"},Wo={class:"image_-holder"},Xo={key:0,class:"img_replacer"},Qo={class:"iconsax","icon-name":"picture-no-square"},es={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{width:"54px",height:"54px"},xmlns:"http://www.w3.org/2000/svg"},ts=e("path",{d:"M21.6799 16.9599L18.5499 9.64988C17.4899 7.16988 15.5399 7.06988 14.2299 9.42988L12.3399 12.8399C11.3799 14.5699 9.58993 14.7199 8.34993 13.1699L8.12993 12.8899C6.83993 11.2699 5.01993 11.4699 4.08993 13.3199L2.36993 16.7699C1.15993 19.1699 2.90993 21.9999 5.58993 21.9999H18.3499C20.9499 21.9999 22.6999 19.3499 21.6799 16.9599Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"#667080",style:{fill:"#667080",stroke:"#667080"}},null,-1),os=e("path",{d:"M6.96997 8C8.62682 8 9.96997 6.65685 9.96997 5C9.96997 3.34315 8.62682 2 6.96997 2C5.31312 2 3.96997 3.34315 3.96997 5C3.96997 6.65685 5.31312 8 6.96997 8Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",style:{fill:"#667080",stroke:"#667080"}},null,-1),ss=[ts,os],ls=["src"],ns={key:0,class:"invalid-feedback"},as=["textContent"],is={class:"d-flex flex-wrap list-unstyled"},rs=["onClick"],ds=["textContent"],cs={class:"mt-3"},us=["disabled"],ms={__name:"RadiosComponent",setup(d){const n=Y("trans"),{radios:r,getRadios:y,getRadio:C,storeRadio:T,radioForm:o,destroyRadio:v}=to(),{students:b,getStudents:A}=Q(),{teachers:w,getTeachers:q}=ee(),M=async()=>{await T(),o.value.response.status==200&&!o.value.update&&(o.value.show=!1,f.value=null)},_=async k=>{if(r.value.isProccessing=!0,k=await C(k.id),r.value.isProccessing=!1,!k)return;r.value.list=r.value.list.map(c=>c.id==k.id?k:c),o.value.show=!0;const m=k.students.map(c=>c.id);o.value.data={name:k.name,class:k.class,radio_date:k.radioDate,teacher_id:k.teacher.id,students:m,bg_image:k.bgImage.path},f.value=k.bgImage,o.value.update=k},p=()=>{o.value.show=!1,o.value.errors=[],f.value=null};z(()=>{o.value.show||(o.value.response=null,o.value.errors=[],o.value.update&&(o.value.data=o.value.defaultData,o.value.update=null))});const u=oe(()=>{const k={...b.value.list};return Object.keys(k).forEach(m=>{o.value.data.students.includes(parseInt(m))&&delete k[m]}),k}),a=k=>{confirm(n("Do you really want to delete this record?"))&&v(k)},f=I(null),x=k=>{f.value=k};y();const j=k=>{o.value.data.students=[...o.value.data.students,parseInt(k)]},O=k=>{confirm(n("Do you really want to delete this record?"))&&(o.value.data.students=o.value.data.students.filter(m=>m!=k))};return b.value.data_type="select",A(),w.value.data_type="select",q(),(k,m)=>(l(),i(S,null,[e("div",oo,[e("div",so,[e("div",lo,[e("h6",no,[ao,B(),e("span",{textContent:s(t(n)("School Radio"))},null,8,io)]),ro,e("a",{href:"javascript:;",class:"action-box",onClick:m[0]||(m[0]=c=>t(o).show=!t(o).show)},[co,e("p",{class:"p5 mb-0",textContent:s(t(n)("Create your school radio"))},null,8,uo)])])]),t(r).response?t(r).response.status!=200?(l(),i("div",{key:1,class:"text-center text-danger",textContent:s(t(r).response.data.message||t(r).response.statusText)},null,8,_o)):t(r).list.length==0?(l(),i("div",vo,s(t(n)("No Data")),1)):(l(!0),i(S,{key:3},F(t(r).list,c=>(l(),i("div",fo,[e("div",yo,[e("div",bo,[e("div",$o,[e("img",{src:c.bgImage.pathUrl,alt:c.name},null,8,Co)])]),e("div",go,[e("h6",xo,[ko,B(),e("span",{textContent:s(c.name)},null,8,wo)]),e("div",Vo,[e("span",{textContent:s(c.radioDateFormated)},null,8,So)]),e("div",null,[e("b",{textContent:s(t(n)("Participating students")+": ")},null,8,To),B(" "+s(c.students.map(h=>h.name).join(", ")),1)])]),e("div",Uo,[e("div",null,[Mo,e("span",{textContent:s(c.teacher.name)},null,8,Ao)]),e("div",null,[Do,e("span",{textContent:s(t(n)("Class")+" "+c.class)},null,8,qo)])]),e("div",Lo,[e("button",{type:"button",class:"button secondary-button me-2",onClick:h=>_(c)},Ro,8,Po),e("button",{type:"button",class:"primary-button me-2",onClick:h=>_(c)},Io,8,Oo),e("button",{type:"button",onClick:h=>a(c),class:"button button-red"},No,8,Bo)])])]))),256)):(l(),i("div",mo,ho)),t(r).isProccessing&&t(r).response?(l(),i("div",Yo,Zo)):U("",!0)]),t(r).list.length?(l(),E(H,{key:0,meta:t(r).response.data.meta,onUpdateList:t(y)},null,8,["meta","onUpdateList"])):U("",!0),t(o).show?(l(),E(K,{key:1,onCloseModal:m[8]||(m[8]=c=>p()),class:P({"w-800px":!0})},{default:D(()=>[e("div",Go,[e("form",{onSubmit:m[7]||(m[7]=Z(c=>M(),["prevent"]))},[e("div",zo,[e("div",Ko,[g(V,{errors:t(o).errors.bg_image,path:"radio-bgs",type:"file",modelValue:t(o).data.bg_image,"onUpdate:modelValue":m[1]||(m[1]=c=>t(o).data.bg_image=c),onOnFileUpload:x,help:t(n)("ضع صورة لغلاف الإذاعة")},{customLabel:D(()=>[e("div",Jo,[e("div",Wo,[f.value?(l(),i("img",{key:1,src:f.value.pathUrl},null,8,ls)):(l(),i("div",Xo,[e("i",Qo,[(l(),i("svg",es,ss))])]))])])]),_:1},8,["errors","modelValue","help"]),t(o).errors.bg_image?(l(),i("ul",ns,[(l(!0),i(S,null,F(t(o).errors.bg_image,c=>(l(),i("li",{textContent:s(c)},null,8,as))),256))])):U("",!0)]),g(V,{class:"col-md-12",errors:t(o).errors.name,label:'<ion-icon name="radio"></ion-icon>',placeholder:"Radio name",modelValue:t(o).data.name,"onUpdate:modelValue":m[2]||(m[2]=c=>t(o).data.name=c),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",type:"date",errors:t(o).errors.radio_date,label:'<ion-icon name="calendar"></ion-icon>',placeholder:"Radio date",modelValue:t(o).data.radio_date,"onUpdate:modelValue":m[3]||(m[3]=c=>t(o).data.radio_date=c),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",errors:t(o).errors.class,label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Class",modelValue:t(o).data.class,"onUpdate:modelValue":m[4]||(m[4]=c=>t(o).data.class=c),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-12",type:"select",searchable:!0,label:'<ion-icon name="person"></ion-icon>',placeholder:"Class leader",errors:t(o).errors.teacher_id,modelValue:t(o).data.teacher_id,"onUpdate:modelValue":m[5]||(m[5]=c=>t(o).data.teacher_id=c),options:t(w).list,required:!0},null,8,["errors","modelValue","options"]),g(V,{class:"col-md-12",type:"select",isModel:!1,searchable:!0,label:'<ion-icon name="school"></ion-icon>',placeholder:"Participating students",errors:t(o).errors.students,onOnChange:j,options:u.value,required:!0},null,8,["errors","options"]),e("ul",is,[(l(!0),i(S,null,F(t(o).data.students,c=>(l(),i("li",{onClick:h=>O(c),class:"bg-light p-2 me-2 mb-2 rounded-16"},[e("span",{textContent:s(t(b).list[c]||t(n)("Unknown"))},null,8,ds)],8,rs))),256))])]),e("div",cs,[e("button",{type:"submit",class:"primary-button",disabled:t(o).processing},s(t(o).processing?t(n)("Please wait"):t(o).update?t(n)("Update"):t(n)("Save")),9,us),e("button",{type:"button",class:"secondary-button ms-2",onClick:m[6]||(m[6]=c=>p())},s(t(n)("Close")),1)])],32)])]),_:1})):U("",!0)],64))}};function ps(){const{callApi:d,fetchAll:n,fetchOne:r,makeFetchAllRef:y,makeFormRef:C,storeForm:T}=N(),o=`${window._app.url}/activities`,v=y(),b=async(_=null)=>{await n(_??o,v)},A=async _=>await r(`${o}/${_}`),w=C({students:{}},o);return{activities:v,getActivities:b,getActivity:A,activityForm:w,storeActivity:async()=>{await T(w,v)},destroyActivity:_=>{v.value.list=v.value.list.filter(p=>p!=_),d({url:o+"/"+_.id,method:"POST",data:{_method:"DELETE"}})},pageUrl:o}}const hs={class:"bg-white border rounded-16 p-4"},_s={class:"d-flex flex-wrap justify-content-between"},vs=["textContent"],fs=["placeholder"],ys={class:"text-end"},bs=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),$s={key:0,class:"text-center"},Cs=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),gs=[Cs],xs=["textContent"],ks={key:2,class:"text-center"},ws={class:"col-12 mb-5"},Vs={class:"activity-box"},Ss={class:"bg-image me-2"},Ts={class:"bg-image-holder"},Us=["src","alt"],Ms={class:"activity-info"},As={class:"h9 activity-title mb-1 me-2 d-inline"},Ds=["textContent"],qs=["textContent"],Ls=e("ion-icon",{name:"people-outline",class:"me-2"},null,-1),Ps={class:"d-flex flex-wrap",style:{gap:"0.7rem"}},Fs=e("ion-icon",{name:"person-outline",class:"me-2"},null,-1),Rs=["textContent"],Os=e("ion-icon",{name:"bookmark-outline",class:"me-2"},null,-1),js=["textContent"],Is={class:"actions mt-3"},Bs=["onClick"],Es=["onClick"],Ns=e("ion-icon",{name:"create-outline"},null,-1),Ys=[Ns],Hs=["onClick"],Zs=e("ion-icon",{name:"trash-outline"},null,-1),Gs=[Zs],zs={key:4,class:"is-proccessing"},Ks=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Js=[Ks],Ws={class:"p-5 px-4"},Xs={class:"row"},Qs={class:"mb-3 col-12"},el={class:"image_"},tl={class:"image_-holder"},ol={key:0,class:"img_replacer"},sl={class:"iconsax","icon-name":"picture-no-square"},ll={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{width:"54px",height:"54px"},xmlns:"http://www.w3.org/2000/svg"},nl=e("path",{d:"M21.6799 16.9599L18.5499 9.64988C17.4899 7.16988 15.5399 7.06988 14.2299 9.42988L12.3399 12.8399C11.3799 14.5699 9.58993 14.7199 8.34993 13.1699L8.12993 12.8899C6.83993 11.2699 5.01993 11.4699 4.08993 13.3199L2.36993 16.7699C1.15993 19.1699 2.90993 21.9999 5.58993 21.9999H18.3499C20.9499 21.9999 22.6999 19.3499 21.6799 16.9599Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"#667080",style:{fill:"#667080",stroke:"#667080"}},null,-1),al=e("path",{d:"M6.96997 8C8.62682 8 9.96997 6.65685 9.96997 5C9.96997 3.34315 8.62682 2 6.96997 2C5.31312 2 3.96997 3.34315 3.96997 5C3.96997 6.65685 5.31312 8 6.96997 8Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",style:{fill:"#667080",stroke:"#667080"}},null,-1),il=[nl,al],rl=["src"],dl={key:0,class:"invalid-feedback"},cl=["textContent"],ul={class:"list-unstyled"},ml={class:"row mx-0"},pl={class:"mt-3"},hl=["disabled"],_l={__name:"ActivitiesComponent",setup(d){const n=Y("trans"),{activities:r,getActivities:y,getActivity:C,storeActivity:T,activityForm:o,destroyActivity:v}=ps(),{students:b,getStudents:A}=Q(),{teachers:w,getTeachers:q}=ee(),M=async()=>{await T(),o.value.response.status==200&&!o.value.update&&(o.value.show=!1,f.value=null)},_=async m=>{if(r.value.isProccessing=!0,m=await C(m.id),r.value.isProccessing=!1,!m)return;r.value.list=r.value.list.map(h=>h.id==m.id?m:h),o.value.show=!0;const c=m.students.map(h=>({student_id:h.id,post_title:h.pivot.post_title}));o.value.data={name:m.name,class:m.class,activity_date:m.activityDate,teacher_id:m.teacher.id,students:c,bg_image:m.bgImage.path},f.value=m.bgImage,o.value.update=m},p=()=>{o.value.show=!1,o.value.errors=[],f.value=null};z(()=>{o.value.show||(o.value.response=null,o.value.errors=[],o.value.update&&(o.value.data=o.value.defaultData,o.value.update=null))});const u=oe(()=>{const m={...b.value.list};return Object.keys(m).forEach(c=>{o.value.data.students.hasOwnProperty(parseInt(c))&&delete m[c]}),m}),a=m=>{confirm(n("Do you really want to delete this record?"))&&v(m)},f=I(null),x=m=>{f.value=m};y();const j=m=>{o.value.data.students[m]={student_id:m,post_title:""}};b.value.data_type="select",A(),w.value.data_type="select",q();const O=I(null),k=m=>{O.value&&clearTimeout(O.value),r.value.search=m.target.value,O.value=setTimeout(()=>{y()},600)};return(m,c)=>(l(),i(S,null,[e("div",hs,[e("div",null,[e("div",_s,[e("h6",{class:"h7",textContent:s(t(n)("Activities"))},null,8,vs),e("input",{type:"text",class:"form-control",style:{"max-width":"300px"},placeholder:t(n)("Search"),onKeyup:c[0]||(c[0]=h=>k(h))},null,40,fs),e("div",ys,[e("button",{class:"primary-button",onClick:c[1]||(c[1]=h=>t(o).show=!t(o).show)},s(t(n)("Add activity")),1)])]),bs]),t(r).response?t(r).response.status!=200?(l(),i("div",{key:1,class:"text-center text-danger",textContent:s(t(r).response.data.message||t(r).response.statusText)},null,8,xs)):t(r).list.length==0?(l(),i("div",ks,s(t(n)("No Data")),1)):(l(!0),i(S,{key:3},F(t(r).list,h=>(l(),i("div",ws,[e("div",Vs,[e("div",Ss,[e("div",Ts,[e("img",{src:h.bgImage.pathUrl,alt:h.name},null,8,Us)])]),e("div",Ms,[e("div",null,[e("h6",As,[e("span",{textContent:s(h.name)},null,8,Ds)]),e("small",{class:"text-secondary",textContent:s(h.activityDateFormated)},null,8,qs)]),e("div",null,[Ls,B(" "+s(h.students.map(L=>L.name).join(", ")),1)]),e("div",Ps,[e("div",null,[Fs,e("span",{textContent:s(h.teacher.name)},null,8,Rs)]),e("div",null,[Os,e("span",{textContent:s(t(n)("Class")+" "+h.class)},null,8,js)])]),e("div",Is,[e("button",{type:"button",class:"secondary-button me-1",onClick:L=>_(h)},"عرض التفاصيل",8,Bs),e("button",{type:"button",class:"primary-button me-1",onClick:L=>_(h)},Ys,8,Es),e("button",{type:"button",onClick:L=>a(h),class:"button button-red"},Gs,8,Hs)])])])]))),256)):(l(),i("div",$s,gs)),t(r).isProccessing&&t(r).response?(l(),i("div",zs,Js)):U("",!0)]),t(r).list.length?(l(),E(H,{key:0,meta:t(r).response.data.meta,onUpdateList:t(y)},null,8,["meta","onUpdateList"])):U("",!0),t(o).show?(l(),E(K,{key:1,onCloseModal:c[9]||(c[9]=h=>p()),class:P({"w-800px":!0})},{default:D(()=>[e("div",Ws,[e("form",{onSubmit:c[8]||(c[8]=Z(h=>M(),["prevent"]))},[e("div",Xs,[e("div",Qs,[g(V,{errors:t(o).errors.bg_image,path:"activity-bgs",type:"file",modelValue:t(o).data.bg_image,"onUpdate:modelValue":c[2]||(c[2]=h=>t(o).data.bg_image=h),onOnFileUpload:x,help:t(n)("ضع صورة لغلاف النشاط")},{customLabel:D(()=>[e("div",el,[e("div",tl,[f.value?(l(),i("img",{key:1,src:f.value.pathUrl},null,8,rl)):(l(),i("div",ol,[e("i",sl,[(l(),i("svg",ll,il))])]))])])]),_:1},8,["errors","modelValue","help"]),t(o).errors.bg_image?(l(),i("ul",dl,[(l(!0),i(S,null,F(t(o).errors.bg_image,h=>(l(),i("li",{textContent:s(h)},null,8,cl))),256))])):U("",!0)]),g(V,{class:"col-md-12",errors:t(o).errors.name,label:'<ion-icon name="activity"></ion-icon>',placeholder:"Activity name",modelValue:t(o).data.name,"onUpdate:modelValue":c[3]||(c[3]=h=>t(o).data.name=h),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",type:"date",errors:t(o).errors.activity_date,label:'<ion-icon name="calendar"></ion-icon>',placeholder:"Activity date",modelValue:t(o).data.activity_date,"onUpdate:modelValue":c[4]||(c[4]=h=>t(o).data.activity_date=h),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-6",errors:t(o).errors.class,label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Class",modelValue:t(o).data.class,"onUpdate:modelValue":c[5]||(c[5]=h=>t(o).data.class=h),required:!0},null,8,["errors","modelValue"]),g(V,{class:"col-md-12",type:"select",searchable:!0,label:'<ion-icon name="person"></ion-icon>',placeholder:"Class leader",errors:t(o).errors.teacher_id,modelValue:t(o).data.teacher_id,"onUpdate:modelValue":c[6]||(c[6]=h=>t(o).data.teacher_id=h),options:t(w).list,required:!0},null,8,["errors","modelValue","options"]),g(V,{class:"col-md-12",type:"select",isModel:!1,searchable:!0,label:'<ion-icon name="school"></ion-icon>',placeholder:"Participating students",errors:t(o).errors.students,onOnChange:j,options:u.value,required:!0},null,8,["errors","options"]),e("ul",ul,[(l(!0),i(S,null,F(t(o).data.students,(h,L)=>(l(),i("li",null,[e("div",ml,[g(V,{class:"col-md-6",label:'<ion-icon name="person"></ion-icon>',readonly:!0,modelValue:t(b).list[h.student_id]},null,8,["modelValue"]),g(V,{class:"col-md-6",label:'<ion-icon name="person"></ion-icon>',placeholder:"Post title",modelValue:h.post_title,"onUpdate:modelValue":G=>h.post_title=G},null,8,["modelValue","onUpdate:modelValue"])])]))),256))])]),e("div",pl,[e("button",{type:"submit",class:"primary-button",disabled:t(o).processing},s(t(o).processing?t(n)("Please wait"):t(o).update?t(n)("Update"):t(n)("Save")),9,hl),e("button",{type:"button",class:"secondary-button ms-2",onClick:c[7]||(c[7]=h=>p())},s(t(n)("Close")),1)])],32)])]),_:1})):U("",!0)],64))}},vl={class:"d-flex flex-wrap justify-content-between"},fl=["textContent"],yl=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),bl={key:0,class:"text-center"},$l=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Cl=[$l],gl=["textContent"],xl={key:2,class:"text-center"},kl=e("th",null,"#",-1),wl={scope:"col"},Vl={scope:"col"},Sl={scope:"col"},Tl={scope:"col"},Ul={scope:"col"},Ml={scope:"col"},Al=["textContent"],Dl=["textContent"],ql=["textContent"],Ll=["textContent"],Pl=["textContent"],Fl=["textContent"],Rl={key:4,class:"is-proccessing"},Ol=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),jl=[Ol],Il={__name:"SubscriptionPaymentsComponent",setup(d){const{makeFetchAllRef:n,fetchAll:r}=N(),y=`${window._app.url}/subscription/payment_history`,C=n(),T=async(o=null)=>{await r(o??y,C)};return T(),(o,v)=>(l(),E(W,null,{header:D(()=>[e("div",vl,[e("h6",{class:"h7",textContent:s(o.trans("Payments history"))},null,8,fl)]),yl]),default:D(()=>[e("div",null,[t(C).response?t(C).response.status!=200?(l(),i("div",{key:1,class:"text-center text-danger",textContent:s(t(C).response.data.message||t(C).response.statusText)},null,8,gl)):t(C).list.length==0?(l(),i("div",xl,s(o.trans("No Data")),1)):(l(),i(S,{key:3},[g(X,null,{thead:D(()=>[e("tr",null,[kl,e("th",wl,s(o.trans("Plan name")),1),e("th",Vl,s(o.trans("Payment method")),1),e("th",Sl,s(o.trans("Period")),1),e("th",Tl,s(o.trans("Amount")),1),e("th",Ul,s(o.trans("Payment status")),1),e("th",Ml,s(o.trans("Comment")),1)])]),default:D(()=>[(l(!0),i(S,null,F(t(C).list,b=>(l(),i("tr",null,[e("td",{scope:"row",textContent:s(b.id)},null,8,Al),e("td",{textContent:s(o.trans(b.plan.name))},null,8,Dl),e("td",{textContent:s(b.paymentMethodText)},null,8,ql),e("td",{textContent:s(b.subscriptionPeriodText)},null,8,Ll),e("td",null,s(b.amount+" "+o.trans(b.currencyText)),1),e("td",null,[e("span",{class:P(["badge","bg-"+b.status]),textContent:s(o.trans(b.statusText))},null,10,Pl)]),e("td",{style:{"white-space":"pre-wrap"},textContent:s(b.comment??"/")},null,8,Fl)]))),256))]),_:1}),g(H,{meta:t(C).response.data.meta,onUpdateList:T},null,8,["meta"])],64)):(l(),i("div",bl,Cl)),t(C).isProccessing&&t(C).response?(l(),i("div",Rl,jl)):U("",!0)])]),_:1}))}},R=_e({});R.component("students-component",xt);R.component("teachers-component",eo);R.component("radios-component",ms);R.component("activities-component",_l);R.component("subscription-payments-component",Il);R.component("chartjs-component",le);R.component("navbar-notifications-component",ne);R.component("notifications-component",ae);R.provide("trans",se.translate);R.config.globalProperties.trans=se.translate;R.config.compilerOptions.isCustomElement=d=>d.startsWith("ion-icon");R.mount("#app");
