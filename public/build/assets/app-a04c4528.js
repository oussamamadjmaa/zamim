import{_ as J,M as W,a as N,b as oe,c as se,d as ne}from"./NotificationsComponent-ff8ff7fd.js";import{C as B,_ as le,H,r as F,o as ae,j as l,m as i,l as e,q as K,I as G,J as ie,K as o,t as S,v as j,s as P,F as V,x as s,y as re,z as de,A as M,B as ce,L as Z,k as y,i as A,g as I,e as Y,E as ue,G as ee}from"./common-e8678646.js";function X(){const{callApi:m,fetchAll:a,fetchOne:r,makeFetchAllRef:C,makeFormRef:b,storeForm:k}=B(),t=`${window._app.url}/students`,v=C(),$=async(_=null)=>{await a(_??t,v)},T=async _=>await r(`${t}/${_}`),g=b({profile:{}},t);return{students:v,getStudents:$,getStudent:T,studentForm:g,storeStudent:async()=>{await k(g,v)},destroyStudent:_=>{v.value.list=v.value.list.filter(u=>u!=_),m({url:t+"/"+_.id,method:"POST",data:{_method:"DELETE"}})},pageUrl:t}}const me={class:"modal-container"},pe={class:"modal-content"},he={__name:"MainModalComponent",emits:["closeModal"],setup(m,{emit:a}){const r=H("trans"),C=a,b=F(!1),k=()=>{(!b.value||confirm(r("Are you sure that you want to close this modal?")))&&C("closeModal")};return ae(()=>{b.value=!0}),(t,v)=>(l(),i("div",{class:"custom-modal",onClick:G(k,["self"])},[e("div",me,[e("div",{class:"close-modal",onClick:k},"x"),e("div",pe,[K(t.$slots,"default",{},void 0,!0)])])]))}},z=le(he,[["__scopeId","data-v-093a6749"]]),_e={class:"form-input mb-3"},ve={key:0},fe=["innerHTML"],ye={key:0,class:"text-danger"},$e=["type","value","placeholder","readonly","required"],be=["value","required"],Ce=["textContent"],ge={key:0,class:"custom-select-dropdown"},xe={class:"custom-select-search"},ke=["placeholder"],we={class:"custom-select-options"},Ve=["onClick","textContent"],Se=["type","rows","cols","placeholder","required","textContent"],Te=["multiple","placeholder","required"],Ue={class:"file-upload-progress"},Ae=["onClick"],qe=e("ion-icon",{name:"attach-outline"},null,-1),Me=["textContent"],Le={key:7,class:"invalid-feedback"},Pe=["textContent"],x={__name:"InputComponent",props:{type:{type:String,default:"text"},label:String|null,placeholder:String|null,errors:Array|Object|null,modelValue:{type:[Number,String],default:null,required:!1},required:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rows:{default:!1},cols:{default:!1},isModel:{type:Boolean,default:!0},path:{type:String,default:null},multiple:{type:Boolean,default:!1},help:{type:String,default:null},searchable:{type:Boolean,default:!1},options:{type:Object,default:{}}},emits:["onFileUpload","onChange","update:modelValue"],setup(m,{emit:a}){const r=a,C=ie(),{callApi:b}=B(),k=m,t=F(!1),v=F("");let $,T,g=!1;const q=F({}),U="input_"+Math.random().toString(36).substr(2,9),_=async(u,d,n,w=!1)=>{let D;if(w)D=u;else{let p=u.files;for(let c=0;c<p.length;c++)_(p[c],d,k.multiple,!0);return}if(!D)return;g==!0&&k.multiple==!1&&(await T.cancel("File changed."),g=!1),g=!0,$=axios.CancelToken,T=$.source();const E=T,O=new Date().getTime()+Math.random()*999,f=await b({url:"/upload",method:"POST",data:{file:D,path:d},headers:{"Content-Type":"multipart/form-data"},config:{cancelToken:T.token,onUploadProgress:p=>{const{loaded:c,total:h}=p;let R=Math.floor(c*100/h);R<100&&(q.value[O]={loaded:c,total:h,percent:R,source:E,fileInfo:D})}}});delete q.value[O],typeof f<"u"&&(g=!1,f.status==200&&(r("onFileUpload",f.data),r("update:modelValue",f.data.path)))};return(u,d)=>(l(),i("div",_e,[o(C).customLabel?(l(),i("div",ve,[e("label",{for:U,class:"d-block"},[K(u.$slots,"customLabel")])])):S("",!0),m.label&&!o(C).customLabel?(l(),i("label",{key:1,for:U,class:"label_",onClick:d[0]||(d[0]=n=>t.value=!t.value)},[e("span",{innerHTML:u.trans(m.label)},null,8,fe),j(),m.required?(l(),i("span",ye,"*")):S("",!0)])):S("",!0),["text","email","password","date"].includes(m.type)?(l(),i("input",{key:2,type:m.type,class:P(["input_",{"is-invalid":m.errors}]),value:m.modelValue,onInput:d[1]||(d[1]=n=>u.$emit("update:modelValue",n.target.value)),placeholder:u.trans(m.placeholder||m.label),id:U,readonly:m.readonly,required:m.required},null,42,$e)):m.type=="select"?(l(),i(V,{key:3},[m.searchable?(l(),i("div",{key:1,class:P({"custom-select":!0,"is-invalid":m.errors}),onClickout:d[5]||(d[5]=n=>t.value=!1)},[e("div",{class:"custom-select-selected form-control",onClick:d[3]||(d[3]=n=>t.value=!t.value)},s(m.options[m.modelValue]||u.trans(m.placeholder||m.label)+"..."),1),t.value?(l(),i("div",ge,[e("div",xe,[re(e("input",{type:"text",placeholder:u.trans("Search"),"onUpdate:modelValue":d[4]||(d[4]=n=>v.value=n)},null,8,ke),[[de,v.value]])]),e("div",we,[(l(!0),i(V,null,M(m.options,(n,w)=>(l(),i("div",{class:P({"custom-select-option":!0,selected:m.modelValue==w,hide:v.value&&!n.toLowerCase().includes(v.value.toLowerCase())}),onClick:D=>{m.isModel?u.$emit("update:modelValue",w):u.$emit("onChange",w),t.value=!1},textContent:s(n)},null,10,Ve))),256))])])):S("",!0)],34)):(l(),i("select",{key:0,class:P(["form-select form-control",{"is-invalid":m.errors}]),value:m.modelValue,onChange:d[2]||(d[2]=n=>m.isModel?u.$emit("update:modelValue",n.target.value):u.$emit("onChange",n.target.value)),required:m.required},[e("option",{value:"",textContent:s(u.trans(m.placeholder||m.label)+"...")},null,8,Ce),K(u.$slots,"default")],42,be))],64)):S("",!0),m.type=="textarea"?(l(),i("textarea",{key:4,type:m.type,class:P(["form-control",{"is-invalid":m.errors}]),rows:m.rows,cols:m.cols,onInput:d[6]||(d[6]=n=>u.$emit("update:modelValue",n.target.value)),placeholder:u.trans(m.placeholder||m.label),required:m.required,textContent:s(m.modelValue)},null,42,Se)):m.type=="file"?(l(),i(V,{key:5},[e("input",{type:"file",class:P({"form-control":!0,"is-invalid":m.errors,"d-none":o(C).customLabel}),multiple:m.multiple,onChange:d[7]||(d[7]=n=>_(n.target,m.path)),placeholder:u.trans(m.placeholder||m.label),required:m.required,id:U},null,42,Te),(l(!0),i(V,null,M(q.value,n=>(l(),i("div",Ue,[e("a",{onClick:w=>n.source.cancel("Canceled by user"),href:"javascript:;",class:"text-danger"},"X",8,Ae),qe,e("span",null,"("+s(n.percent)+"%) "+s(n.fileInfo.name),1),e("div",{class:"progress",style:ce({width:n.percent+"%"})},null,4)]))),256))],64)):S("",!0),m.help?(l(),i("small",{key:6,class:"form-text text-muted",textContent:s(m.help)},null,8,Me)):S("",!0),m.errors?(l(),i("ul",Le,[(l(!0),i(V,null,M(m.errors,n=>(l(),i("li",{textContent:s(n)},null,8,Pe))),256))])):S("",!0)]))}},De={class:"d-flex flex-wrap justify-content-between"},Fe=["textContent"],Oe=["placeholder"],Re={class:"text-end"},je=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),Ie={key:0,class:"text-center"},Be=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Ee=[Be],Ne=["textContent"],He={key:2,class:"text-center"},Ge=e("th",null,"#",-1),Ze=["textContent"],ze=["textContent"],Ke=["href","textContent"],Je=["textContent"],We=["href","textContent"],Xe=["href","textContent"],Qe=["textContent"],Ye=["textContent"],et=["textContent"],tt={class:"d-flex"},ot=["onClick"],st=e("ion-icon",{name:"create-outline"},null,-1),nt=[st],lt=["onClick"],at=e("ion-icon",{name:"trash-outline"},null,-1),it=[at],rt={key:4,class:"is-proccessing"},dt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),ct=[dt],ut={class:"p-5 px-4"},mt=["textContent"],pt={class:"row"},ht=["textContent"],_t={class:"row"},vt={class:"mt-3"},ft=["disabled"],yt={__name:"StudentsComponent",setup(m){const a=H("trans"),{students:r,getStudents:C,getStudent:b,storeStudent:k,studentForm:t,destroyStudent:v}=X(),$=async()=>{await k(),t.value.response.status==200&&!t.value.update&&(t.value.show=!1)},T=async u=>{r.value.isProccessing=!0,u=await b(u.id),r.value.isProccessing=!1,u&&(r.value.list=r.value.list.map(d=>d.id==u.id?u:d),t.value.show=!0,t.value.data={name:u.name,email:u.email,phone:u.phone,mobile:u.mobile,profile:{parent_name:u.profile.parentName,level:u.profile.level,class:u.profile.class,division:u.profile.division}},t.value.update=u)},g=()=>{t.value.show=!1,t.value.errors=[]};Z(()=>{t.value.show||(t.value.response=null,t.value.errors=[],t.value.update&&(t.value.data=t.value.defaultData,t.value.update=null))});const q=u=>{confirm(a("Do you really want to delete this record?"))&&v(u)};C();const U=F(null),_=u=>{U.value&&clearTimeout(U.value),r.value.search=u.target.value,U.value=setTimeout(()=>{C()},600)};return(u,d)=>(l(),i(V,null,[y(J,null,{header:A(()=>[e("div",De,[e("h6",{class:"h7",textContent:s(o(a)("Students"))},null,8,Fe),e("input",{type:"text",class:"form-control",style:{"max-width":"300px"},placeholder:o(a)("Search"),onKeyup:d[0]||(d[0]=n=>_(n))},null,40,Oe),e("div",Re,[e("button",{class:"primary-button",onClick:d[1]||(d[1]=n=>o(t).show=!o(t).show)},s(o(a)("Add new student")),1)])]),je]),default:A(()=>[e("div",null,[o(r).response?o(r).response.status!=200?(l(),i("div",{key:1,class:"text-center text-danger",textContent:s(o(r).response.data.message||o(r).response.statusText)},null,8,Ne)):o(r).list.length==0?(l(),i("div",He,s(o(a)("No Data")),1)):(l(),i(V,{key:3},[y(W,null,{thead:A(()=>[e("tr",null,[Ge,e("th",null,s(o(a)("Student name")),1),e("th",null,s(o(a)("Official email")),1),e("th",null,s(o(a)("Guardian name")),1),e("th",null,s(o(a)("Guardian phone")),1),e("th",null,s(o(a)("Guardian mobile")),1),e("th",null,s(o(a)("Level")),1),e("th",null,s(o(a)("Class")),1),e("th",null,s(o(a)("Division")),1),e("th",null,s(o(a)("Operations")),1)])]),default:A(()=>[(l(!0),i(V,null,M(o(r).list,n=>(l(),i("tr",null,[e("td",{scope:"row",textContent:s(n.id)},null,8,Ze),e("td",{textContent:s(n.name)},null,8,ze),e("td",null,[e("a",{href:"mailto:"+n.email,textContent:s(n.email)},null,8,Ke)]),e("td",{textContent:s(n.profile.parentName)},null,8,Je),e("td",null,[n.phone?(l(),i("a",{key:0,href:"tel:"+n.phone,textContent:s(n.phone),dir:"ltr"},null,8,We)):(l(),i(V,{key:1},[j(s(o(a)("Not included")),1)],64))]),e("td",null,[n.mobile?(l(),i("a",{key:0,href:"tel:"+n.mobile,textContent:s(n.mobile),dir:"ltr"},null,8,Xe)):(l(),i(V,{key:1},[j(s(o(a)("Not included")),1)],64))]),e("td",{textContent:s(n.profile.level)},null,8,Qe),e("td",{textContent:s(n.profile.class)},null,8,Ye),e("td",{textContent:s(n.profile.division)},null,8,et),e("td",tt,[e("button",{type:"button",class:"primary-button p-0 px-2 me-2",onClick:w=>T(n)},nt,8,ot),e("button",{type:"button",onClick:w=>q(n),class:"button button-red p-0 px-2"},it,8,lt)])]))),256))]),_:1}),y(N,{meta:o(r).response.data.meta,onUpdateList:o(C)},null,8,["meta","onUpdateList"])],64)):(l(),i("div",Ie,Ee)),o(r).isProccessing&&o(r).response?(l(),i("div",rt,ct)):S("",!0)])]),_:1}),o(t).show?(l(),I(z,{key:0,onCloseModal:d[12]||(d[12]=n=>g()),class:P({"w-1000px":!0})},{default:A(()=>[e("div",ut,[e("form",{onSubmit:d[11]||(d[11]=G(n=>$(),["prevent"]))},[e("h6",{class:"h9 border-bottom pb-3 mb-4",textContent:s(o(a)("Student information"))},null,8,mt),e("div",pt,[y(x,{class:"col-md-6",errors:o(t).errors.name,label:'<ion-icon name="person"></ion-icon>',placeholder:"Student name",modelValue:o(t).data.name,"onUpdate:modelValue":d[2]||(d[2]=n=>o(t).data.name=n),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",type:"email",errors:o(t).errors.email,label:'<ion-icon name="mail"></ion-icon>',placeholder:"Official email",modelValue:o(t).data.email,"onUpdate:modelValue":d[3]||(d[3]=n=>o(t).data.email=n),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",type:"select",searchable:!0,label:'<ion-icon name="school"></ion-icon>',placeholder:"Level",errors:o(t).errors["profile.level"],modelValue:o(t).data.profile.level,"onUpdate:modelValue":d[4]||(d[4]=n=>o(t).data.profile.level=n),options:{primary:o(a)("Primary"),middle:o(a)("Middle"),secondary:o(a)("Secondary")},required:!0},null,8,["errors","modelValue","options"]),y(x,{class:"col-md-6",errors:o(t).errors["profile.class"],label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Class",modelValue:o(t).data.profile.class,"onUpdate:modelValue":d[5]||(d[5]=n=>o(t).data.profile.class=n),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",errors:o(t).errors["profile.division"],label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Division",modelValue:o(t).data.profile.division,"onUpdate:modelValue":d[6]||(d[6]=n=>o(t).data.profile.division=n),required:!0},null,8,["errors","modelValue"])]),e("h6",{class:"h9 border-bottom pb-3 mb-4",textContent:s(o(a)("Guardian information"))},null,8,ht),e("div",_t,[y(x,{class:"col-md-6",errors:o(t).errors["profile.parent_name"],label:'<ion-icon name="person"></ion-icon>',placeholder:"Name",modelValue:o(t).data.profile.parent_name,"onUpdate:modelValue":d[7]||(d[7]=n=>o(t).data.profile.parent_name=n),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",errors:o(t).errors.phone,label:'<ion-icon name="call"></ion-icon>',placeholder:"Phone number",modelValue:o(t).data.phone,"onUpdate:modelValue":d[8]||(d[8]=n=>o(t).data.phone=n),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",errors:o(t).errors.mobile,label:'<ion-icon name="call"></ion-icon>',placeholder:"Mobile number",modelValue:o(t).data.mobile,"onUpdate:modelValue":d[9]||(d[9]=n=>o(t).data.mobile=n),required:!0},null,8,["errors","modelValue"])]),e("div",vt,[e("button",{type:"submit",class:"primary-button",disabled:o(t).processing},s(o(t).processing?o(a)("Please wait"):o(t).update?o(a)("Update"):o(a)("Save")),9,ft),e("button",{type:"button",class:"secondary-button ms-2",onClick:d[10]||(d[10]=n=>g())},s(o(a)("Close")),1)])],32)])]),_:1})):S("",!0)],64))}};function Q(){const{callApi:m,fetchAll:a,fetchOne:r,makeFetchAllRef:C,makeFormRef:b,storeForm:k}=B(),t=`${window._app.url}/teachers`,v=C(),$=async(_=null)=>{await a(_??t,v)},T=async _=>await r(`${t}/${_}`),g=b({profile:{}},t);return{teachers:v,getTeachers:$,getTeacher:T,teacherForm:g,storeTeacher:async()=>{await k(g,v)},destroyTeacher:_=>{v.value.list=v.value.list.filter(u=>u!=_),m({url:t+"/"+_.id,method:"POST",data:{_method:"DELETE"}})},pageUrl:t}}const $t={class:"d-flex flex-wrap justify-content-between"},bt=["textContent"],Ct=["placeholder"],gt={class:"text-end"},xt=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),kt={key:0,class:"text-center"},wt=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Vt=[wt],St=["textContent"],Tt={key:2,class:"text-center"},Ut=e("th",null,"#",-1),At=["textContent"],qt=["textContent"],Mt=["href","textContent"],Lt=["href","textContent"],Pt={class:"d-flex"},Dt=["onClick"],Ft=e("ion-icon",{name:"create-outline"},null,-1),Ot=[Ft],Rt=["onClick"],jt=e("ion-icon",{name:"trash-outline"},null,-1),It=[jt],Bt={key:4,class:"is-proccessing"},Et=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Nt=[Et],Ht={class:"p-5 px-4"},Gt=["textContent"],Zt={class:"row"},zt={class:"mt-3"},Kt=["disabled"],Jt={__name:"TeachersComponent",setup(m){const a=H("trans"),{teachers:r,getTeachers:C,getTeacher:b,storeTeacher:k,teacherForm:t,destroyTeacher:v}=Q(),$=async()=>{await k(),t.value.response.status==200&&!t.value.update&&(t.value.show=!1)},T=async u=>{r.value.isProccessing=!0,u=await b(u.id),r.value.isProccessing=!1,u&&(r.value.list=r.value.list.map(d=>d.id==u.id?u:d),t.value.show=!0,t.value.data={name:u.name,email:u.email,phone:u.phone},t.value.update=u)},g=()=>{t.value.show=!1,t.value.errors=[]};Z(()=>{t.value.show||(t.value.response=null,t.value.errors=[],t.value.update&&(t.value.data=t.value.defaultData,t.value.update=null))});const q=u=>{confirm(a("Do you really want to delete this record?"))&&v(u)};C();const U=F(null),_=u=>{U.value&&clearTimeout(U.value),r.value.search=u.target.value,U.value=setTimeout(()=>{C()},600)};return(u,d)=>(l(),i(V,null,[y(J,null,{header:A(()=>[e("div",$t,[e("h6",{class:"h7",textContent:s(o(a)("Teachers"))},null,8,bt),e("input",{type:"text",class:"form-control",style:{"max-width":"300px"},placeholder:o(a)("Search"),onKeyup:d[0]||(d[0]=n=>_(n))},null,40,Ct),e("div",gt,[e("button",{class:"primary-button",onClick:d[1]||(d[1]=n=>o(t).show=!o(t).show)},s(o(a)("Add new teacher")),1)])]),xt]),default:A(()=>[e("div",null,[o(r).response?o(r).response.status!=200?(l(),i("div",{key:1,class:"text-center text-danger",textContent:s(o(r).response.data.message||o(r).response.statusText)},null,8,St)):o(r).list.length==0?(l(),i("div",Tt,s(o(a)("No Data")),1)):(l(),i(V,{key:3},[y(W,null,{thead:A(()=>[e("tr",null,[Ut,e("th",null,s(o(a)("Teacher name")),1),e("th",null,s(o(a)("Official email")),1),e("th",null,s(o(a)("Phone")),1),e("th",null,s(o(a)("Operations")),1)])]),default:A(()=>[(l(!0),i(V,null,M(o(r).list,n=>(l(),i("tr",null,[e("td",{scope:"row",textContent:s(n.id)},null,8,At),e("td",{textContent:s(n.name)},null,8,qt),e("td",null,[e("a",{href:"mailto:"+n.email,textContent:s(n.email)},null,8,Mt)]),e("td",null,[n.phone?(l(),i("a",{key:0,href:"tel:"+n.phone,textContent:s(n.phone),dir:"ltr"},null,8,Lt)):(l(),i(V,{key:1},[j(s(o(a)("Not included")),1)],64))]),e("td",Pt,[e("button",{type:"button",class:"primary-button p-0 px-2 me-2",onClick:w=>T(n)},Ot,8,Dt),e("button",{type:"button",onClick:w=>q(n),class:"button button-red p-0 px-2"},It,8,Rt)])]))),256))]),_:1}),y(N,{meta:o(r).response.data.meta,onUpdateList:o(C)},null,8,["meta","onUpdateList"])],64)):(l(),i("div",kt,Vt)),o(r).isProccessing&&o(r).response?(l(),i("div",Bt,Nt)):S("",!0)])]),_:1}),o(t).show?(l(),I(z,{key:0,onCloseModal:d[7]||(d[7]=n=>g()),class:P({"w-1000px":!0})},{default:A(()=>[e("div",Ht,[e("form",{onSubmit:d[6]||(d[6]=G(n=>$(),["prevent"]))},[e("h6",{class:"h9 border-bottom pb-3 mb-4",textContent:s(o(a)("Teacher information"))},null,8,Gt),e("div",Zt,[y(x,{class:"col-md-6",errors:o(t).errors.name,label:'<ion-icon name="person"></ion-icon>',placeholder:"Teacher name",modelValue:o(t).data.name,"onUpdate:modelValue":d[2]||(d[2]=n=>o(t).data.name=n),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",type:"email",errors:o(t).errors.email,label:'<ion-icon name="mail"></ion-icon>',placeholder:"Official email",modelValue:o(t).data.email,"onUpdate:modelValue":d[3]||(d[3]=n=>o(t).data.email=n),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",errors:o(t).errors.phone,label:'<ion-icon name="call"></ion-icon>',placeholder:"Phone number",modelValue:o(t).data.phone,"onUpdate:modelValue":d[4]||(d[4]=n=>o(t).data.phone=n),required:!0},null,8,["errors","modelValue"])]),e("div",zt,[e("button",{type:"submit",class:"primary-button",disabled:o(t).processing},s(o(t).processing?o(a)("Please wait"):o(t).update?o(a)("Update"):o(a)("Save")),9,Kt),e("button",{type:"button",class:"secondary-button ms-2",onClick:d[5]||(d[5]=n=>g())},s(o(a)("Close")),1)])],32)])]),_:1})):S("",!0)],64))}};function Wt(){const{callApi:m,fetchAll:a,fetchOne:r,makeFetchAllRef:C,makeFormRef:b,storeForm:k}=B(),t=`${window._app.url}/radios`,v=C(),$=async(_=null)=>{await a(_??t,v)},T=async _=>await r(`${t}/${_}`),g=b({students:[]},t);return{radios:v,getRadios:$,getRadio:T,radioForm:g,storeRadio:async()=>{await k(g,v)},destroyRadio:_=>{v.value.list=v.value.list.filter(u=>u!=_),m({url:t+"/"+_.id,method:"POST",data:{_method:"DELETE"}})},pageUrl:t}}const Xt={class:"row px-0 mx-0"},Qt={class:"col-md-4 mb-4"},Yt={class:"bg-white border rounded-16 py-4 px-4 h-100"},eo={class:"h7 mb-2"},to=e("ion-icon",{name:"radio-outline"},null,-1),oo=["textContent"],so=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),no=e("div",{class:"action-box-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"56",height:"56",viewBox:"0 0 56 56",fill:"none"},[e("path",{d:"M49.875 28C49.875 28.6962 49.5984 29.3639 49.1062 29.8562C48.6139 30.3484 47.9462 30.625 47.25 30.625H30.625V47.25C30.625 47.9462 30.3484 48.6139 29.8562 49.1062C29.3639 49.5984 28.6962 49.875 28 49.875C27.3038 49.875 26.6361 49.5984 26.1438 49.1062C25.6516 48.6139 25.375 47.9462 25.375 47.25V30.625H8.75C8.05381 30.625 7.38613 30.3484 6.89384 29.8562C6.40156 29.3639 6.125 28.6962 6.125 28C6.125 27.3038 6.40156 26.6361 6.89384 26.1438C7.38613 25.6516 8.05381 25.375 8.75 25.375H25.375V8.75C25.375 8.05381 25.6516 7.38613 26.1438 6.89384C26.6361 6.40156 27.3038 6.125 28 6.125C28.6962 6.125 29.3639 6.40156 29.8562 6.89384C30.3484 7.38613 30.625 8.05381 30.625 8.75V25.375H47.25C47.9462 25.375 48.6139 25.6516 49.1062 26.1438C49.5984 26.6361 49.875 27.3038 49.875 28Z",fill:"#667080","fill-opacity":"0.1"})])],-1),lo=["textContent"],ao={key:0,class:"text-center"},io=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),ro=[io],co=["textContent"],uo={key:2,class:"text-center"},mo={class:"col-md-4 mb-4"},po={class:"radio-box bg-white border rounded-16 h-100 overlay-actions-parent"},ho={class:"bg-image"},_o={class:"bg-image-holder"},vo=["src","alt"],fo={class:"radio-info px-4 pt-3"},yo={class:"h9 radio-title mb-1"},$o=e("ion-icon",{name:"radio-outline"},null,-1),bo=["textContent"],Co={class:"mb-3 text-secondary"},go=["textContent"],xo=["textContent"],ko={class:"d-flex flex-wrap justify-content-center py-3 px-2",style:{gap:"0.7rem",position:"sticky",top:"100%"}},wo=e("ion-icon",{name:"person-outline",class:"me-2"},null,-1),Vo=["textContent"],So=e("ion-icon",{name:"bookmark-outline",class:"me-2"},null,-1),To=["textContent"],Uo={class:"overlay-actions"},Ao=["onClick"],qo=e("ion-icon",{name:"eye-outline"},null,-1),Mo=[qo],Lo=["onClick"],Po=e("ion-icon",{name:"create-outline"},null,-1),Do=[Po],Fo=["onClick"],Oo=e("ion-icon",{name:"trash-outline"},null,-1),Ro=[Oo],jo={key:4,class:"is-proccessing"},Io=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Bo=[Io],Eo={class:"p-5 px-4"},No={class:"row"},Ho={class:"mb-3 col-12"},Go={class:"image_"},Zo={class:"image_-holder"},zo={key:0,class:"img_replacer"},Ko={class:"iconsax","icon-name":"picture-no-square"},Jo={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{width:"54px",height:"54px"},xmlns:"http://www.w3.org/2000/svg"},Wo=e("path",{d:"M21.6799 16.9599L18.5499 9.64988C17.4899 7.16988 15.5399 7.06988 14.2299 9.42988L12.3399 12.8399C11.3799 14.5699 9.58993 14.7199 8.34993 13.1699L8.12993 12.8899C6.83993 11.2699 5.01993 11.4699 4.08993 13.3199L2.36993 16.7699C1.15993 19.1699 2.90993 21.9999 5.58993 21.9999H18.3499C20.9499 21.9999 22.6999 19.3499 21.6799 16.9599Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"#667080",style:{fill:"#667080",stroke:"#667080"}},null,-1),Xo=e("path",{d:"M6.96997 8C8.62682 8 9.96997 6.65685 9.96997 5C9.96997 3.34315 8.62682 2 6.96997 2C5.31312 2 3.96997 3.34315 3.96997 5C3.96997 6.65685 5.31312 8 6.96997 8Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",style:{fill:"#667080",stroke:"#667080"}},null,-1),Qo=[Wo,Xo],Yo=["src"],es={key:0,class:"invalid-feedback"},ts=["textContent"],os={class:"d-flex flex-wrap list-unstyled"},ss=["onClick"],ns=["textContent"],ls={class:"mt-3"},as=["disabled"],is={__name:"RadiosComponent",setup(m){const a=H("trans"),{radios:r,getRadios:C,getRadio:b,storeRadio:k,radioForm:t,destroyRadio:v}=Wt(),{students:$,getStudents:T}=X(),{teachers:g,getTeachers:q}=Q(),U=async()=>{await k(),t.value.response.status==200&&!t.value.update&&(t.value.show=!1,w.value=null)},_=async f=>{if(r.value.isProccessing=!0,f=await b(f.id),r.value.isProccessing=!1,!f)return;r.value.list=r.value.list.map(c=>c.id==f.id?f:c),t.value.show=!0;const p=f.students.map(c=>c.id);t.value.data={name:f.name,class:f.class,radio_date:f.radioDate,teacher_id:f.teacher.id,students:p,bg_image:f.bgImage.path},w.value=f.bgImage,t.value.update=f},u=()=>{t.value.show=!1,t.value.errors=[],w.value=null};Z(()=>{t.value.show||(t.value.response=null,t.value.errors=[],t.value.update&&(t.value.data=t.value.defaultData,t.value.update=null))});const d=Y(()=>{const f={...$.value.list};return Object.keys(f).forEach(p=>{t.value.data.students.includes(parseInt(p))&&delete f[p]}),f}),n=f=>{confirm(a("Do you really want to delete this record?"))&&v(f)},w=F(null),D=f=>{w.value=f};C();const E=f=>{t.value.data.students=[...t.value.data.students,parseInt(f)]},O=f=>{confirm(a("Do you really want to delete this record?"))&&(t.value.data.students=t.value.data.students.filter(p=>p!=f))};return $.value.data_type="select",T(),g.value.data_type="select",q(),(f,p)=>(l(),i(V,null,[e("div",Xt,[e("div",Qt,[e("div",Yt,[e("h6",eo,[to,j(),e("span",{textContent:s(o(a)("School Radio"))},null,8,oo)]),so,e("a",{href:"javascript:;",class:"action-box",onClick:p[0]||(p[0]=c=>o(t).show=!o(t).show)},[no,e("p",{class:"p5 mb-0",textContent:s(o(a)("Create your school radio"))},null,8,lo)])])]),o(r).response?o(r).response.status!=200?(l(),i("div",{key:1,class:"text-center text-danger",textContent:s(o(r).response.data.message||o(r).response.statusText)},null,8,co)):o(r).list.length==0?(l(),i("div",uo,s(o(a)("No Data")),1)):(l(!0),i(V,{key:3},M(o(r).list,c=>(l(),i("div",mo,[e("div",po,[e("div",ho,[e("div",_o,[e("img",{src:c.bgImage.pathUrl,alt:c.name},null,8,vo)])]),e("div",fo,[e("h6",yo,[$o,j(),e("span",{textContent:s(c.name)},null,8,bo)]),e("div",Co,[e("span",{textContent:s(c.radioDay+" "+c.radioDateFormated)},null,8,go)]),e("div",null,[e("b",{textContent:s(o(a)("Participating students")+": ")},null,8,xo),j(" "+s(c.students.map(h=>h.name).join(", ")),1)])]),e("div",ko,[e("div",null,[wo,e("span",{textContent:s(c.teacher.name)},null,8,Vo)]),e("div",null,[So,e("span",{textContent:s(o(a)("Class")+" "+c.class)},null,8,To)])]),e("div",Uo,[e("button",{type:"button",class:"button secondary-button me-2",onClick:h=>_(c)},Mo,8,Ao),e("button",{type:"button",class:"primary-button me-2",onClick:h=>_(c)},Do,8,Lo),e("button",{type:"button",onClick:h=>n(c),class:"button button-red"},Ro,8,Fo)])])]))),256)):(l(),i("div",ao,ro)),o(r).isProccessing&&o(r).response?(l(),i("div",jo,Bo)):S("",!0)]),o(r).list.length?(l(),I(N,{key:0,meta:o(r).response.data.meta,onUpdateList:o(C)},null,8,["meta","onUpdateList"])):S("",!0),o(t).show?(l(),I(z,{key:1,onCloseModal:p[8]||(p[8]=c=>u()),class:P({"w-800px":!0})},{default:A(()=>[e("div",Eo,[e("form",{onSubmit:p[7]||(p[7]=G(c=>U(),["prevent"]))},[e("div",No,[e("div",Ho,[y(x,{errors:o(t).errors.bg_image,path:"radio-bgs",type:"file",modelValue:o(t).data.bg_image,"onUpdate:modelValue":p[1]||(p[1]=c=>o(t).data.bg_image=c),onOnFileUpload:D,help:o(a)("ضع صورة لغلاف الإذاعة")},{customLabel:A(()=>[e("div",Go,[e("div",Zo,[w.value?(l(),i("img",{key:1,src:w.value.pathUrl},null,8,Yo)):(l(),i("div",zo,[e("i",Ko,[(l(),i("svg",Jo,Qo))])]))])])]),_:1},8,["errors","modelValue","help"]),o(t).errors.bg_image?(l(),i("ul",es,[(l(!0),i(V,null,M(o(t).errors.bg_image,c=>(l(),i("li",{textContent:s(c)},null,8,ts))),256))])):S("",!0)]),y(x,{class:"col-md-12",errors:o(t).errors.name,label:'<ion-icon name="radio"></ion-icon>',placeholder:"Radio name",modelValue:o(t).data.name,"onUpdate:modelValue":p[2]||(p[2]=c=>o(t).data.name=c),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",type:"date",errors:o(t).errors.radio_date,label:'<ion-icon name="calendar"></ion-icon>',placeholder:"Radio date",modelValue:o(t).data.radio_date,"onUpdate:modelValue":p[3]||(p[3]=c=>o(t).data.radio_date=c),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",errors:o(t).errors.class,label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Class",modelValue:o(t).data.class,"onUpdate:modelValue":p[4]||(p[4]=c=>o(t).data.class=c),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-12",type:"select",searchable:!0,label:'<ion-icon name="person"></ion-icon>',placeholder:"Class leader",errors:o(t).errors.teacher_id,modelValue:o(t).data.teacher_id,"onUpdate:modelValue":p[5]||(p[5]=c=>o(t).data.teacher_id=c),options:o(g).list,required:!0},null,8,["errors","modelValue","options"]),y(x,{class:"col-md-12",type:"select",isModel:!1,searchable:!0,label:'<ion-icon name="school"></ion-icon>',placeholder:"Participating students",errors:o(t).errors.students,onOnChange:E,options:d.value,required:!0},null,8,["errors","options"]),e("ul",os,[(l(!0),i(V,null,M(o(t).data.students,c=>(l(),i("li",{onClick:h=>O(c),class:"bg-light p-2 me-2 mb-2 rounded-16"},[e("span",{textContent:s(o($).list[c])},null,8,ns)],8,ss))),256))])]),e("div",ls,[e("button",{type:"submit",class:"primary-button",disabled:o(t).processing},s(o(t).processing?o(a)("Please wait"):o(t).update?o(a)("Update"):o(a)("Save")),9,as),e("button",{type:"button",class:"secondary-button ms-2",onClick:p[6]||(p[6]=c=>u())},s(o(a)("Close")),1)])],32)])]),_:1})):S("",!0)],64))}};function rs(){const{callApi:m,fetchAll:a,fetchOne:r,makeFetchAllRef:C,makeFormRef:b,storeForm:k}=B(),t=`${window._app.url}/activities`,v=C(),$=async(_=null)=>{await a(_??t,v)},T=async _=>await r(`${t}/${_}`),g=b({students:{}},t);return{activities:v,getActivities:$,getActivity:T,activityForm:g,storeActivity:async()=>{await k(g,v)},destroyActivity:_=>{v.value.list=v.value.list.filter(u=>u!=_),m({url:t+"/"+_.id,method:"POST",data:{_method:"DELETE"}})},pageUrl:t}}const ds={class:"bg-white border rounded-16 p-4"},cs={class:"d-flex flex-wrap justify-content-between"},us=["textContent"],ms=["placeholder"],ps={class:"text-end"},hs=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),_s={key:0,class:"text-center"},vs=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),fs=[vs],ys=["textContent"],$s={key:2,class:"text-center"},bs={class:"col-12 mb-5"},Cs={class:"activity-box"},gs={class:"bg-image me-2"},xs={class:"bg-image-holder"},ks=["src","alt"],ws={class:"activity-info"},Vs={class:"h9 activity-title mb-1 me-2 d-inline"},Ss=["textContent"],Ts=["textContent"],Us=e("ion-icon",{name:"people-outline",class:"me-2"},null,-1),As={class:"d-flex flex-wrap",style:{gap:"0.7rem"}},qs=e("ion-icon",{name:"person-outline",class:"me-2"},null,-1),Ms=["textContent"],Ls=e("ion-icon",{name:"bookmark-outline",class:"me-2"},null,-1),Ps=["textContent"],Ds={class:"actions mt-3"},Fs=["onClick"],Os=["onClick"],Rs=e("ion-icon",{name:"create-outline"},null,-1),js=[Rs],Is=["onClick"],Bs=e("ion-icon",{name:"trash-outline"},null,-1),Es=[Bs],Ns={key:4,class:"is-proccessing"},Hs=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Gs=[Hs],Zs={class:"p-5 px-4"},zs={class:"row"},Ks={class:"mb-3 col-12"},Js={class:"image_"},Ws={class:"image_-holder"},Xs={key:0,class:"img_replacer"},Qs={class:"iconsax","icon-name":"picture-no-square"},Ys={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{width:"54px",height:"54px"},xmlns:"http://www.w3.org/2000/svg"},en=e("path",{d:"M21.6799 16.9599L18.5499 9.64988C17.4899 7.16988 15.5399 7.06988 14.2299 9.42988L12.3399 12.8399C11.3799 14.5699 9.58993 14.7199 8.34993 13.1699L8.12993 12.8899C6.83993 11.2699 5.01993 11.4699 4.08993 13.3199L2.36993 16.7699C1.15993 19.1699 2.90993 21.9999 5.58993 21.9999H18.3499C20.9499 21.9999 22.6999 19.3499 21.6799 16.9599Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"#667080",style:{fill:"#667080",stroke:"#667080"}},null,-1),tn=e("path",{d:"M6.96997 8C8.62682 8 9.96997 6.65685 9.96997 5C9.96997 3.34315 8.62682 2 6.96997 2C5.31312 2 3.96997 3.34315 3.96997 5C3.96997 6.65685 5.31312 8 6.96997 8Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",style:{fill:"#667080",stroke:"#667080"}},null,-1),on=[en,tn],sn=["src"],nn={key:0,class:"invalid-feedback"},ln=["textContent"],an={class:"list-unstyled"},rn={class:"row mx-0"},dn={class:"mt-3"},cn=["disabled"],un={__name:"ActivitiesComponent",setup(m){const a=H("trans"),{activities:r,getActivities:C,getActivity:b,storeActivity:k,activityForm:t,destroyActivity:v}=rs(),{students:$,getStudents:T}=X(),{teachers:g,getTeachers:q}=Q(),U=async()=>{await k(),t.value.response.status==200&&!t.value.update&&(t.value.show=!1,w.value=null)},_=async p=>{if(r.value.isProccessing=!0,p=await b(p.id),r.value.isProccessing=!1,!p)return;r.value.list=r.value.list.map(h=>h.id==p.id?p:h),t.value.show=!0;const c=p.students.map(h=>({student_id:h.id,post_title:h.pivot.post_title}));t.value.data={name:p.name,class:p.class,activity_date:p.activityDate,teacher_id:p.teacher.id,students:c,bg_image:p.bgImage.path},w.value=p.bgImage,t.value.update=p},u=()=>{t.value.show=!1,t.value.errors=[],w.value=null};Z(()=>{t.value.show||(t.value.response=null,t.value.errors=[],t.value.update&&(t.value.data=t.value.defaultData,t.value.update=null))});const d=Y(()=>{const p={...$.value.list};return Object.keys(p).forEach(c=>{t.value.data.students.hasOwnProperty(parseInt(c))&&delete p[c]}),p}),n=p=>{confirm(a("Do you really want to delete this record?"))&&v(p)},w=F(null),D=p=>{w.value=p};C();const E=p=>{t.value.data.students[p]={student_id:p,post_title:""}};$.value.data_type="select",T(),g.value.data_type="select",q();const O=F(null),f=p=>{O.value&&clearTimeout(O.value),r.value.search=p.target.value,O.value=setTimeout(()=>{C()},600)};return(p,c)=>(l(),i(V,null,[e("div",ds,[e("div",null,[e("div",cs,[e("h6",{class:"h7",textContent:s(o(a)("Activities"))},null,8,us),e("input",{type:"text",class:"form-control",style:{"max-width":"300px"},placeholder:o(a)("Search"),onKeyup:c[0]||(c[0]=h=>f(h))},null,40,ms),e("div",ps,[e("button",{class:"primary-button",onClick:c[1]||(c[1]=h=>o(t).show=!o(t).show)},s(o(a)("Add activity")),1)])]),hs]),o(r).response?o(r).response.status!=200?(l(),i("div",{key:1,class:"text-center text-danger",textContent:s(o(r).response.data.message||o(r).response.statusText)},null,8,ys)):o(r).list.length==0?(l(),i("div",$s,s(o(a)("No Data")),1)):(l(!0),i(V,{key:3},M(o(r).list,h=>(l(),i("div",bs,[e("div",Cs,[e("div",gs,[e("div",xs,[e("img",{src:h.bgImage.pathUrl,alt:h.name},null,8,ks)])]),e("div",ws,[e("div",null,[e("h6",Vs,[e("span",{textContent:s(h.name)},null,8,Ss)]),e("small",{class:"text-secondary",textContent:s(h.activityDay+" "+h.activityDateFormated)},null,8,Ts)]),e("div",null,[Us,j(" "+s(h.students.map(R=>R.name).join(", ")),1)]),e("div",As,[e("div",null,[qs,e("span",{textContent:s(h.teacher.name)},null,8,Ms)]),e("div",null,[Ls,e("span",{textContent:s(o(a)("Class")+" "+h.class)},null,8,Ps)])]),e("div",Ds,[e("button",{type:"button",class:"secondary-button me-1",onClick:R=>_(h)},"عرض التفاصيل",8,Fs),e("button",{type:"button",class:"primary-button me-1",onClick:R=>_(h)},js,8,Os),e("button",{type:"button",onClick:R=>n(h),class:"button button-red"},Es,8,Is)])])])]))),256)):(l(),i("div",_s,fs)),o(r).isProccessing&&o(r).response?(l(),i("div",Ns,Gs)):S("",!0)]),o(r).list.length?(l(),I(N,{key:0,meta:o(r).response.data.meta,onUpdateList:o(C)},null,8,["meta","onUpdateList"])):S("",!0),o(t).show?(l(),I(z,{key:1,onCloseModal:c[9]||(c[9]=h=>u()),class:P({"w-800px":!0})},{default:A(()=>[e("div",Zs,[e("form",{onSubmit:c[8]||(c[8]=G(h=>U(),["prevent"]))},[e("div",zs,[e("div",Ks,[y(x,{errors:o(t).errors.bg_image,path:"activity-bgs",type:"file",modelValue:o(t).data.bg_image,"onUpdate:modelValue":c[2]||(c[2]=h=>o(t).data.bg_image=h),onOnFileUpload:D,help:o(a)("ضع صورة لغلاف النشاط")},{customLabel:A(()=>[e("div",Js,[e("div",Ws,[w.value?(l(),i("img",{key:1,src:w.value.pathUrl},null,8,sn)):(l(),i("div",Xs,[e("i",Qs,[(l(),i("svg",Ys,on))])]))])])]),_:1},8,["errors","modelValue","help"]),o(t).errors.bg_image?(l(),i("ul",nn,[(l(!0),i(V,null,M(o(t).errors.bg_image,h=>(l(),i("li",{textContent:s(h)},null,8,ln))),256))])):S("",!0)]),y(x,{class:"col-md-12",errors:o(t).errors.name,label:'<ion-icon name="activity"></ion-icon>',placeholder:"Activity name",modelValue:o(t).data.name,"onUpdate:modelValue":c[3]||(c[3]=h=>o(t).data.name=h),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",type:"date",errors:o(t).errors.activity_date,label:'<ion-icon name="calendar"></ion-icon>',placeholder:"Activity date",modelValue:o(t).data.activity_date,"onUpdate:modelValue":c[4]||(c[4]=h=>o(t).data.activity_date=h),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-6",errors:o(t).errors.class,label:'<ion-icon name="bookmark"></ion-icon>',placeholder:"Class",modelValue:o(t).data.class,"onUpdate:modelValue":c[5]||(c[5]=h=>o(t).data.class=h),required:!0},null,8,["errors","modelValue"]),y(x,{class:"col-md-12",type:"select",searchable:!0,label:'<ion-icon name="person"></ion-icon>',placeholder:"Class leader",errors:o(t).errors.teacher_id,modelValue:o(t).data.teacher_id,"onUpdate:modelValue":c[6]||(c[6]=h=>o(t).data.teacher_id=h),options:o(g).list,required:!0},null,8,["errors","modelValue","options"]),y(x,{class:"col-md-12",type:"select",isModel:!1,searchable:!0,label:'<ion-icon name="school"></ion-icon>',placeholder:"Participating students",errors:o(t).errors.students,onOnChange:E,options:d.value,required:!0},null,8,["errors","options"]),e("ul",an,[(l(!0),i(V,null,M(o(t).data.students,(h,R)=>(l(),i("li",null,[e("div",rn,[y(x,{class:"col-md-6",label:'<ion-icon name="person"></ion-icon>',readonly:!0,modelValue:o($).list[h.student_id]},null,8,["modelValue"]),y(x,{class:"col-md-6",label:'<ion-icon name="person"></ion-icon>',placeholder:"Post title",modelValue:h.post_title,"onUpdate:modelValue":te=>h.post_title=te},null,8,["modelValue","onUpdate:modelValue"])])]))),256))])]),e("div",dn,[e("button",{type:"submit",class:"primary-button",disabled:o(t).processing},s(o(t).processing?o(a)("Please wait"):o(t).update?o(a)("Update"):o(a)("Save")),9,cn),e("button",{type:"button",class:"secondary-button ms-2",onClick:c[7]||(c[7]=h=>u())},s(o(a)("Close")),1)])],32)])]),_:1})):S("",!0)],64))}},mn={class:"d-flex flex-wrap justify-content-between"},pn=["textContent"],hn=e("p",{class:"p5 mb-4"},"لوريم ايبسوم هو نموذج افتراضي يوضع في التصاميم لتعرض على العميل .",-1),_n={key:0,class:"text-center"},vn=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),fn=[vn],yn=["textContent"],$n={key:2,class:"text-center"},bn=e("th",null,"#",-1),Cn={scope:"col"},gn={scope:"col"},xn={scope:"col"},kn={scope:"col"},wn={scope:"col"},Vn={scope:"col"},Sn=["textContent"],Tn=["textContent"],Un=["textContent"],An=["textContent"],qn=["textContent"],Mn=["textContent"],Ln={key:4,class:"is-proccessing"},Pn=e("div",{class:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")],-1),Dn=[Pn],Fn={__name:"SubscriptionPaymentsComponent",setup(m){const{makeFetchAllRef:a,fetchAll:r}=B(),C=`${window._app.url}/subscription/payment_history`,b=a(),k=async(t=null)=>{await r(t??C,b)};return k(),(t,v)=>(l(),I(J,null,{header:A(()=>[e("div",mn,[e("h6",{class:"h7",textContent:s(t.trans("Payments history"))},null,8,pn)]),hn]),default:A(()=>[e("div",null,[o(b).response?o(b).response.status!=200?(l(),i("div",{key:1,class:"text-center text-danger",textContent:s(o(b).response.data.message||o(b).response.statusText)},null,8,yn)):o(b).list.length==0?(l(),i("div",$n,s(t.trans("No Data")),1)):(l(),i(V,{key:3},[y(W,null,{thead:A(()=>[e("tr",null,[bn,e("th",Cn,s(t.trans("Plan name")),1),e("th",gn,s(t.trans("Payment method")),1),e("th",xn,s(t.trans("Period")),1),e("th",kn,s(t.trans("Amount")),1),e("th",wn,s(t.trans("Payment status")),1),e("th",Vn,s(t.trans("Comment")),1)])]),default:A(()=>[(l(!0),i(V,null,M(o(b).list,$=>(l(),i("tr",null,[e("td",{scope:"row",textContent:s($.id)},null,8,Sn),e("td",{textContent:s(t.trans($.plan.name))},null,8,Tn),e("td",{textContent:s($.paymentMethodText)},null,8,Un),e("td",{textContent:s($.subscriptionPeriodText)},null,8,An),e("td",null,s($.amount+" "+t.trans($.currencyText)),1),e("td",null,[e("span",{class:P(["badge","bg-"+$.status]),textContent:s(t.trans($.statusText))},null,10,qn)]),e("td",{style:{"white-space":"pre-wrap"},textContent:s($.comment??"/")},null,8,Mn)]))),256))]),_:1}),y(N,{meta:o(b).response.data.meta,onUpdateList:k},null,8,["meta"])],64)):(l(),i("div",_n,fn)),o(b).isProccessing&&o(b).response?(l(),i("div",Ln,Dn)):S("",!0)])]),_:1}))}},L=ue({});L.component("students-component",yt);L.component("teachers-component",Jt);L.component("radios-component",is);L.component("activities-component",un);L.component("subscription-payments-component",Fn);L.component("chartjs-component",oe);L.component("navbar-notifications-component",se);L.component("notifications-component",ne);L.provide("trans",ee.translate);L.config.globalProperties.trans=ee.translate;L.config.compilerOptions.isCustomElement=m=>m.startsWith("ion-icon");L.mount("#app");
